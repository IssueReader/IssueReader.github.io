(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{521:function(e,t,a){"use strict";var n=a(1),r=a.n(n),i=a(522),s=a.n(i);t.a=function(e){var t=e.children;return r.a.createElement("div",{className:s.a.container},t)}},522:function(e,t,a){e.exports={italic:"index_italic__S_jTJ",ellipsis:"index_ellipsis__2-xoY",ponter:"index_ponter__wXfiC",container:"index_container__1ojGv"}},525:function(e,t,a){e.exports={italic:"index_italic__kflm5",ellipsis:"index_ellipsis__11Rz_",ponter:"index_ponter__25eON",modal:"index_modal__32dNG",modalTitle:"index_modalTitle__1luea",body:"index_body__32dXj",title:"index_title__YLacj",info:"index_info__3eBNH",favoriteText:"index_favoriteText__3167B",keepUnread:"index_keepUnread__1iO4m"}},527:function(e,t,a){e.exports={italic:"index_italic__2KGxq",ellipsis:"index_ellipsis__3Hq1Z",ponter:"index_ponter__1mTnR",issue:"index_issue__13C15",openedIssue:"index_openedIssue__3_9QP",user:"index_user__1rW0L",title:"index_title__2krH0",unreadTitle:"index_unreadTitle__26p9P",time:"index_time__2yG7x",actions:"index_actions__2FQW6"}},529:function(e,t,a){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.d(t,"a",function(){return n})},530:function(e,t,a){"use strict";a(531);var n=a(537),r=a.n(n),i=(a(245),a(104)),s=a.n(i),o=(a(144),a(19)),c=a.n(o),l=a(27),u=a(3),p=a.n(u),d=a(11),h=a(81),m=a(82),f=a(84),_=a(83),v=a(85),b=a(1),x=a.n(b),y=a(246),g=a.n(y),k=(a(532),a(535)),E=a.n(k),j=(a(540),a(545)),w=a.n(j),O=(a(533),a(534)),I=a.n(O),C=a(541),N=a.n(C),S=a(542),T=a.n(S),D=(a(543),a(544),new C.Renderer);D.code=function(e,t){var a=!(!t||!T.a.getLanguage(t))?T.a.highlight(t,e).value:e;return'<pre><code class="hljs '.concat(t,'">').concat(a,"</code></pre>")},N.a.setOptions({renderer:D});var U=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return x.a.createElement("div",{className:"markdown-body"},x.a.createElement("div",{dangerouslySetInnerHTML:{__html:N()(this.props.context)}}))}}]),t}(x.a.PureComponent),F=a(151),R=a(35),Y=a(525),A=a.n(Y),P=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(_.a)(t).call(this,e))).state={loading:!1,visible:!0,detail:void 0},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark(function e(){var t,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0,detail:void 0}),e.next=3,R.a.getIssueInfo(this.props.info);case 3:if(t=e.sent,a=t.data,!0===this.state.loading){e.next=7;break}return e.abrupt("return");case 7:this.setState({loading:!1,detail:a||null}),this.props.updateIssue&&a&&!this.props.info.read&&this.props.updateIssue(this.props.info,{read:!0});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.setState({loading:!1,detail:!1})}},{key:"onCancel",value:function(){this.state.loading||(this.setState({visible:!1}),this.props.onCancle())}},{key:"renderFavorite",value:function(){var e=this;if(!this.props.updateIssue)return null;var t=this.props.info.favorite?{text:"\u53d6\u6d88\u6536\u85cf",icon:"heart"}:{text:"\u6536\u85cf",icon:"heart-o"};return x.a.createElement(x.a.Fragment,null,x.a.createElement(I.a,{type:"vertical"}),x.a.createElement("span",{onClick:function(){return e.props.updateIssue(e.props.info,{favorite:!e.props.info.favorite})}},x.a.createElement(c.a,{type:t.icon}),x.a.createElement("span",{className:A.a.favoriteText},"\xa0\xa0",t.text)))}},{key:"renderKeepUnread",value:function(){var e=this;return this.props.updateIssue?x.a.createElement(x.a.Fragment,null,x.a.createElement(I.a,{type:"vertical"}),x.a.createElement("span",{className:A.a.keepUnread,onClick:function(){return e.props.updateIssue(e.props.info,{read:!1})}},"\u4fdd\u6301\u672a\u8bfb")):null}},{key:"render",value:function(){var e=this,t=this.props.info;return x.a.createElement(E.a,{className:A.a.modal,width:"80%",title:x.a.createElement("span",{className:A.a.modalTitle},t.title),visible:this.state.visible,onCancel:function(){return e.onCancel()},footer:null,destroyOnClose:!0,maskClosable:!0},x.a.createElement("div",{className:A.a.body},x.a.createElement("h1",{className:A.a.title},t.title),x.a.createElement("div",{className:A.a.info},x.a.createElement("a",{href:"https://github.com/".concat(t.owner,"/").concat(t.repo,"/issues/").concat(t.number),target:"_blank",rel:"noopener noreferrer"},"\u67e5\u770b\u539f\u6587"),x.a.createElement(I.a,{type:"vertical"}),x.a.createElement(s.a,{className:A.a.avatarUrl,size:"small",src:t.user.avatarUrl}),x.a.createElement("span",{className:A.a.userName},"\xa0\xa0",t.user.name),x.a.createElement(I.a,{type:"vertical"}),g()(t.createdAt).format("YYYY\u5e74M\u6708D\u65e5"),this.renderFavorite(),this.renderKeepUnread()),void 0===this.state.detail&&x.a.createElement(F.a,null),null===this.state.detail&&x.a.createElement(w.a,{message:"\u52a0\u8f7d\u5931\u8d25",description:"\u83b7\u53d6\u6587\u7ae0\u8be6\u7ec6\u4fe1\u606f\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc",type:"error",showIcon:!0}),this.state.detail&&x.a.createElement(U,{context:this.state.detail.body})))}}]),t}(x.a.PureComponent),H=a(527),L=a.n(H),M=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(_.a)(t).call(this,e))).state={selected:void 0},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"showIssueDetail",value:function(){var e=Object(d.a)(p.a.mark(function e(t,a){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({selected:void 0});case 2:return console.log(a),e.next=5,this.setState({selected:a});case 5:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"hideIssueDetail",value:function(){var e=Object(d.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({selected:void 0});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateIssue",value:function(e,t){this.props.updateIssue(Object(l.a)({owner:e.owner,repo:e.repo,number:e.number},t));var a=this.state.selected;a&&e.owner===a.owner&&e.repo===a.repo&&e.number===a.number&&this.setState({selected:Object(l.a)({},a,t)})}},{key:"renderFavorite",value:function(e){var t=this;if(!this.props.updateIssue)return null;var a=function(){return t.updateIssue(e,{favorite:!e.favorite})};return e.favorite?x.a.createElement(c.a,{title:"\u53d6\u6d88\u6536\u85cf",onClick:a,type:"heart"}):x.a.createElement(c.a,{title:"\u6536\u85cf",onClick:a,type:"heart-o"})}},{key:"render",value:function(){var e=this;return x.a.createElement(x.a.Fragment,null,x.a.createElement(r.a,{size:"large",rowKey:function(e){return"".concat(e.owner,"/").concat(e.repo,"/").concat(e.number)},loading:this.props.loading,className:L.a.list,dataSource:this.props.list,pagination:!1,renderItem:function(t){return x.a.createElement(r.a.Item,{onClick:function(a){return e.showIssueDetail(a,t)}},x.a.createElement(s.a,{size:"small",src:t.user.avatarUrl}),x.a.createElement("div",{className:L.a.user},t.user.name),x.a.createElement("div",{className:t.read?L.a.title:L.a.unreadTitle},x.a.createElement("a",{onClick:function(e){return e.preventDefault()},href:"https://github.com/".concat(t.owner,"/").concat(t.repo,"/issues/").concat(t.number)},t.title)),x.a.createElement("div",{className:L.a.time},g()(t.createdAt).format("YYYY\u5e74M\u6708D\u65e5")),x.a.createElement("div",{className:L.a.actions,onClick:function(e){return e.stopPropagation()}},e.renderFavorite(t),x.a.createElement("a",{href:"https://github.com/".concat(t.owner,"/").concat(t.repo,"/issues/").concat(t.number),target:"_blink"},x.a.createElement(c.a,{type:"export"}))))}}),this.state.selected&&x.a.createElement(P,{info:this.state.selected,updateIssue:this.props.updateIssue&&function(t,a){return e.updateIssue(t,a)},onCancle:function(){return e.hideIssueDetail()}}))}}]),t}(x.a.PureComponent);t.a=M},812:function(e,t,a){e.exports={italic:"index_italic__3XjxK",ellipsis:"index_ellipsis__1Tbks",ponter:"index_ponter__2HFEN",container:"index_container__2WvDy",list:"index_list__A-Pfy",user:"index_user__1DkJM",title:"index_title__3khBW",issue:"index_issue__-_dL_",body:"index_body__4ZjOH"}},930:function(e,t,a){"use strict";a.r(t);a(247);var n=a(147),r=a.n(n),i=(a(145),a(86)),s=a.n(i),o=a(27),c=a(529),l=a(3),u=a.n(l),p=a(11),d=a(81),h=a(82),m=a(84),f=a(83),_=a(85),v=a(150),b=a(1),x=a.n(b),y=a(51),g=a(16),k=a(524),E=a.n(k),j=a(521),w=a(530),O=a(35),I=a(812),C=a.n(I),N=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).state={loading:!1,user:void 0,list:void 0},a.onRefresh=a.onRefresh.bind(Object(v.a)(Object(v.a)(a))),a.updateIssue=a.updateIssue.bind(Object(v.a)(Object(v.a)(a))),a.unsubscribe=a.unsubscribe.bind(Object(v.a)(Object(v.a)(a))),a}return Object(_.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"componentWillUnmount",value:function(){this.setState({loading:!1})}},{key:"onRefresh",value:function(){var e=Object(p.a)(u.a.mark(function e(){var t,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.loading){e.next=2;break}return e.abrupt("return");case 2:return this.setState({loading:!0,user:void 0,list:void 0}),e.next=5,O.a.getRepoInfo({owner:this.props.match.params.owner,repo:this.props.match.params.repo});case 5:if(t=e.sent,a=t.data,this.state.loading){e.next=9;break}return e.abrupt("return");case 9:this.setState({loading:!1,list:a&&a.list,user:a&&a.user});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateIssue",value:function(){var e=Object(p.a)(u.a.mark(function e(t){var a,n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.updateIssue(t);case 2:a=this.state.list,-1!==(n=a.findIndex(function(e){return e.owner===t.owner&&e.repo===t.repo&&e.number===t.number}))&&((r=Object(c.a)(a))[n]=Object(o.a)({},r[n],t),this.setState({list:r}));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"unsubscribe",value:function(){var e=Object(p.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.loading){e.next=2;break}return e.abrupt("return");case 2:return this.setState({loading:!0}),e.next=5,this.props.dispatch({type:"app/unsubscribe",payload:{owner:this.props.match.params.owner,repo:this.props.match.params.repo}});case 5:if(!0===this.state.loading){e.next=7;break}return e.abrupt("return");case 7:this.setState({loading:!1}),this.props.dispatch(g.routerRedux.push({pathname:"/all"}));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.user,a=e.list;return x.a.createElement(x.a.Fragment,null,x.a.createElement(E.a,{logo:t&&x.a.createElement("img",{alt:"",src:t.avatarUrl}),title:x.a.createElement("a",{href:"https://github.com/".concat(this.props.match.params.owner,"/").concat(this.props.match.params.repo),rel:"noopener noreferrer",target:"_blank"},this.props.match.params.owner,"/",this.props.match.params.repo),content:t&&x.a.createElement("div",null,x.a.createElement("div",null,t.name),x.a.createElement("div",null,t.bio)),action:x.a.createElement("div",{className:C.a.title},x.a.createElement(s.a,{disabled:this.state.loading,type:"danger",onClick:this.unsubscribe},"\u9000\u8ba2"),x.a.createElement(s.a,{disabled:this.state.loading,onClick:this.onRefresh},"\u5237\u65b0")),breadcrumbList:[{title:null}]}),x.a.createElement(j.a,null,x.a.createElement(r.a,{bordered:!1},x.a.createElement(w.a,{list:a,loading:this.state.loading,updateIssue:this.updateIssue}))))}}]),t}(x.a.PureComponent);t.default=Object(y.connect)(function(e){return{repos:e.app.repos}})(N)}}]);
//# sourceMappingURL=12.4de07cfb.chunk.js.map