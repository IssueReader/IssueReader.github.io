(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{529:function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r.d(t,"a",function(){return n})},932:function(e,t,r){"use strict";r.r(t);var n=r(529),a=r(3),u=r.n(a),s=r(27),c=r(142);t.default={namespace:"watching",state:{list:[],loading:!1},subscriptions:{setup:function(e){var t=e.dispatch;return e.history.listen(function(e){var r=e.pathname,n=e.search;if("/user/watching"===r)return t({type:"load",payload:{search:n}})})}},effects:{load:u.a.mark(function e(t,r){var n,a,o,i,p,l,d,f,b;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n=r.call,a=r.put,o=r.select,e.next=4,o(function(e){return e.watching});case 4:if(i=e.sent,!i.loading){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,a({type:"save",payload:{list:void 0,loading:!0}});case 10:return e.next=12,n(c.a.getWatching);case 12:return p=e.sent,l=p.data,e.next=16,a({type:"save",payload:{loading:!1}});case 16:if(l){e.next=20;break}return e.next=19,a({type:"save",payload:{list:null}});case 19:return e.abrupt("return",e.sent);case 20:return e.next=22,o(function(e){return e.app});case 22:return d=e.sent,f=d.repos,b=l.list.map(function(e){var t=f.findIndex(function(t){return e.repo===t.repo&&e.owner===t.owner});return Object(s.a)({},e,{watch:-1!==t})}),e.next=27,a({type:"save",payload:{list:b}});case 27:return e.abrupt("return",e.sent);case 28:case"end":return e.stop()}},e,this)}),subscribe:u.a.mark(function e(t,r){var n,a,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload,a=r.put,r.call,!n.loading){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,a.resolve({type:"update",payload:Object(s.a)({},n,{loading:!0})});case 6:return e.next=8,a.resolve({type:"app/subscribe",payload:n});case 8:return c=e.sent,e.next=11,a.resolve({type:"update",payload:Object(s.a)({},n,{loading:!1,watch:c})});case 11:case"end":return e.stop()}},e,this)}),unsubscribe:u.a.mark(function e(t,r){var n,a,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload,a=r.put,r.call,!n.loading){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,a.resolve({type:"update",payload:Object(s.a)({},n,{loading:!0})});case 6:return e.next=8,a.resolve({type:"app/unsubscribe",payload:n});case 8:return c=e.sent,e.next=11,a.resolve({type:"update",payload:Object(s.a)({},n,{loading:!1,watch:!c})});case 11:case"end":return e.stop()}},e,this)}),update:u.a.mark(function e(t,r){var a,c,o,i,p,l,d;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=r.put,o=r.select,e.next=4,o(function(e){return e.watching});case 4:if(i=e.sent,p=i.list){e.next=8;break}return e.abrupt("return");case 8:if(-1!==(l=p.findIndex(function(e){return a.owner===e.owner&&a.repo===e.repo}))){e.next=11;break}return e.abrupt("return");case 11:return(d=Object(n.a)(p))[l]=Object(s.a)({},d[l],a),e.next=15,c({type:"save",payload:{list:d}});case 15:case"end":return e.stop()}},e,this)})},reducers:{save:function(e,t){return Object(s.a)({},e,t.payload)}}}}}]);
//# sourceMappingURL=14.404660a5.chunk.js.map