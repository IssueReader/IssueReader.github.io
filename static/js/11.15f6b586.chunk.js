(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{521:function(e,t,a){"use strict";var n=a(1),r=a.n(n),s=a(522),i=a.n(s);t.a=function(e){var t=e.children;return r.a.createElement("div",{className:i.a.container},t)}},522:function(e,t,a){e.exports={italic:"index_italic__S_jTJ",ellipsis:"index_ellipsis__2-xoY",ponter:"index_ponter__wXfiC",container:"index_container__1ojGv"}},525:function(e,t,a){e.exports={italic:"index_italic__kflm5",ellipsis:"index_ellipsis__11Rz_",ponter:"index_ponter__25eON",modal:"index_modal__32dNG",modalTitle:"index_modalTitle__1luea",body:"index_body__32dXj",title:"index_title__YLacj",info:"index_info__3eBNH",favoriteText:"index_favoriteText__3167B",keepUnread:"index_keepUnread__1iO4m"}},527:function(e,t,a){e.exports={italic:"index_italic__2KGxq",ellipsis:"index_ellipsis__3Hq1Z",ponter:"index_ponter__1mTnR",issue:"index_issue__13C15",openedIssue:"index_openedIssue__3_9QP",user:"index_user__1rW0L",title:"index_title__2krH0",unreadTitle:"index_unreadTitle__26p9P",time:"index_time__2yG7x",actions:"index_actions__2FQW6"}},530:function(e,t,a){"use strict";a(531);var n=a(537),r=a.n(n),s=(a(245),a(104)),i=a.n(s),o=(a(144),a(19)),c=a.n(o),u=a(27),l=a(3),p=a.n(l),d=a(11),h=a(81),m=a(82),f=a(84),b=a(83),v=a(85),_=a(1),x=a.n(_),g=a(246),k=a.n(g),w=(a(532),a(535)),y=a.n(w),E=(a(540),a(545)),j=a.n(E),O=(a(533),a(534)),I=a.n(O),C=a(541),N=a.n(C),S=a(542),T=a.n(S),U=(a(543),a(544),new C.Renderer);U.code=function(e,t){var a=!(!t||!T.a.getLanguage(t))?T.a.highlight(t,e).value:e;return'<pre><code class="hljs '.concat(t,'">').concat(a,"</code></pre>")},N.a.setOptions({renderer:U});var Y=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return x.a.createElement("div",{className:"markdown-body"},x.a.createElement("div",{dangerouslySetInnerHTML:{__html:N()(this.props.context)}}))}}]),t}(x.a.PureComponent),D=a(151),F=a(35),R=a(525),L=a.n(R),P=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={loading:!1,visible:!0,detail:void 0},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark(function e(){var t,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0,detail:void 0}),e.next=3,F.a.getIssueInfo(this.props.info);case 3:if(t=e.sent,a=t.data,!0===this.state.loading){e.next=7;break}return e.abrupt("return");case 7:this.setState({loading:!1,detail:a||null}),this.props.updateIssue&&a&&!this.props.info.read&&this.props.updateIssue(this.props.info,{read:!0});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.setState({loading:!1,detail:!1})}},{key:"onCancel",value:function(){this.state.loading||(this.setState({visible:!1}),this.props.onCancle())}},{key:"renderFavorite",value:function(){var e=this;if(!this.props.updateIssue)return null;var t=this.props.info.favorite?{text:"\u53d6\u6d88\u6536\u85cf",icon:"heart"}:{text:"\u6536\u85cf",icon:"heart-o"};return x.a.createElement(x.a.Fragment,null,x.a.createElement(I.a,{type:"vertical"}),x.a.createElement("span",{onClick:function(){return e.props.updateIssue(e.props.info,{favorite:!e.props.info.favorite})}},x.a.createElement(c.a,{type:t.icon}),x.a.createElement("span",{className:L.a.favoriteText},"\xa0\xa0",t.text)))}},{key:"renderKeepUnread",value:function(){var e=this;return this.props.updateIssue?x.a.createElement(x.a.Fragment,null,x.a.createElement(I.a,{type:"vertical"}),x.a.createElement("span",{className:L.a.keepUnread,onClick:function(){return e.props.updateIssue(e.props.info,{read:!1})}},"\u4fdd\u6301\u672a\u8bfb")):null}},{key:"render",value:function(){var e=this,t=this.props.info;return x.a.createElement(y.a,{className:L.a.modal,width:"80%",title:x.a.createElement("span",{className:L.a.modalTitle},t.title),visible:this.state.visible,onCancel:function(){return e.onCancel()},footer:null,destroyOnClose:!0,maskClosable:!0},x.a.createElement("div",{className:L.a.body},x.a.createElement("h1",{className:L.a.title},t.title),x.a.createElement("div",{className:L.a.info},x.a.createElement("a",{href:"https://github.com/".concat(t.owner,"/").concat(t.repo,"/issues/").concat(t.number),target:"_blank",rel:"noopener noreferrer"},"\u67e5\u770b\u539f\u6587"),x.a.createElement(I.a,{type:"vertical"}),x.a.createElement(i.a,{className:L.a.avatarUrl,size:"small",src:t.user.avatarUrl}),x.a.createElement("span",{className:L.a.userName},"\xa0\xa0",t.user.name),x.a.createElement(I.a,{type:"vertical"}),k()(t.createdAt).format("YYYY\u5e74M\u6708D\u65e5"),this.renderFavorite(),this.renderKeepUnread()),void 0===this.state.detail&&x.a.createElement(D.a,null),null===this.state.detail&&x.a.createElement(j.a,{message:"\u52a0\u8f7d\u5931\u8d25",description:"\u83b7\u53d6\u6587\u7ae0\u8be6\u7ec6\u4fe1\u606f\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc",type:"error",showIcon:!0}),this.state.detail&&x.a.createElement(Y,{context:this.state.detail.body})))}}]),t}(x.a.PureComponent),M=a(527),z=a.n(M),G=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={selected:void 0},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"showIssueDetail",value:function(){var e=Object(d.a)(p.a.mark(function e(t,a){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({selected:void 0});case 2:return console.log(a),e.next=5,this.setState({selected:a});case 5:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"hideIssueDetail",value:function(){var e=Object(d.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({selected:void 0});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateIssue",value:function(e,t){this.props.updateIssue(Object(u.a)({owner:e.owner,repo:e.repo,number:e.number},t));var a=this.state.selected;a&&e.owner===a.owner&&e.repo===a.repo&&e.number===a.number&&this.setState({selected:Object(u.a)({},a,t)})}},{key:"renderFavorite",value:function(e){var t=this;if(!this.props.updateIssue)return null;var a=function(){return t.updateIssue(e,{favorite:!e.favorite})};return e.favorite?x.a.createElement(c.a,{title:"\u53d6\u6d88\u6536\u85cf",onClick:a,type:"heart"}):x.a.createElement(c.a,{title:"\u6536\u85cf",onClick:a,type:"heart-o"})}},{key:"render",value:function(){var e=this;return x.a.createElement(x.a.Fragment,null,x.a.createElement(r.a,{size:"large",rowKey:function(e){return"".concat(e.owner,"/").concat(e.repo,"/").concat(e.number)},loading:this.props.loading,className:z.a.list,dataSource:this.props.list,pagination:!1,renderItem:function(t){return x.a.createElement(r.a.Item,{onClick:function(a){return e.showIssueDetail(a,t)}},x.a.createElement(i.a,{size:"small",src:t.user.avatarUrl}),x.a.createElement("div",{className:z.a.user},t.user.name),x.a.createElement("div",{className:t.read?z.a.title:z.a.unreadTitle},x.a.createElement("a",{onClick:function(e){return e.preventDefault()},href:"https://github.com/".concat(t.owner,"/").concat(t.repo,"/issues/").concat(t.number)},t.title)),x.a.createElement("div",{className:z.a.time},k()(t.createdAt).format("YYYY\u5e74M\u6708D\u65e5")),x.a.createElement("div",{className:z.a.actions,onClick:function(e){return e.stopPropagation()}},e.renderFavorite(t),x.a.createElement("a",{href:"https://github.com/".concat(t.owner,"/").concat(t.repo,"/issues/").concat(t.number),target:"_blink"},x.a.createElement(c.a,{type:"export"}))))}}),this.state.selected&&x.a.createElement(P,{info:this.state.selected,updateIssue:this.props.updateIssue&&function(t,a){return e.updateIssue(t,a)},onCancle:function(){return e.hideIssueDetail()}}))}}]),t}(x.a.PureComponent);t.a=G},810:function(e,t,a){e.exports={italic:"index_italic__tOx1L",ellipsis:"index_ellipsis__2Li9X",ponter:"index_ponter__1oniU",title:"index_title__3735n"}},935:function(e,t,a){"use strict";a.r(t);a(247);var n=a(147),r=a.n(n),s=(a(145),a(86)),i=a.n(s),o=a(3),c=a.n(o),u=a(11),l=a(81),p=a(82),d=a(84),h=a(83),m=a(85),f=a(150),b=a(1),v=a.n(b),_=a(51),x=a(524),g=a.n(x),k=a(521),w=a(530),y=a(225),E=a(48),j=(function(){var e=Object(u.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(y.a)(t.replace(/https:\/\/github.com\/(\w+)\/(\w+)(\/.*)?/,"https://api.github.com/repos/$1/$2/issues")));case 1:case"end":return e.stop()}},e,this)}))}(),function(){var e=Object(u.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(y.a)(t.replace(/https:\/\/github.com\/(\w+)(\/.*)?/,"https://api.github.com/users/$1")));case 1:case"end":return e.stop()}},e,this)}))}(),function(e){var t=e.owner,a=e.repo;return E.a.getRepoInfo({owner:t,repo:a})}),O=a(810),I=a.n(O),C=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={loading:!1,list:[],user:void 0},a.onRefresh=a.onRefresh.bind(Object(f.a)(Object(f.a)(a))),a.subscribe=a.subscribe.bind(Object(f.a)(Object(f.a)(a))),a.unsubscribe=a.unsubscribe.bind(Object(f.a)(Object(f.a)(a))),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"componentWillUnmount",value:function(){this.setState({loading:!1,list:[]})}},{key:"onRefresh",value:function(){var e=Object(u.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.loading){e.next=2;break}return e.abrupt("return");case 2:return this.setState({loading:!0,list:[]}),e.next=5,j({owner:this.props.match.params.owner,repo:this.props.match.params.repo});case 5:if(t=e.sent,a=t.data,!0===this.state.loading){e.next=9;break}return e.abrupt("return");case 9:this.setState({loading:!1,list:a&&a.list,user:a&&a.user});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateIssue",value:function(e){}},{key:"subscribe",value:function(){var e=Object(u.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.loading){e.next=2;break}return e.abrupt("return");case 2:return this.setState({loading:!0}),e.next=5,this.props.dispatch({type:"app/subscribe",payload:{owner:this.props.match.params.owner,repo:this.props.match.params.repo}});case 5:if(!0===this.state.loading){e.next=7;break}return e.abrupt("return");case 7:this.setState({loading:!1});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"unsubscribe",value:function(){var e=Object(u.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.loading){e.next=2;break}return e.abrupt("return");case 2:return this.setState({loading:!0}),e.next=5,this.props.dispatch({type:"app/unsubscribe",payload:{owner:this.props.match.params.owner,repo:this.props.match.params.repo}});case 5:if(!0===this.state.loading){e.next=7;break}return e.abrupt("return");case 7:this.setState({loading:!1});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"isSubscribed",value:function(){if(!this.props.repos)return!1;var e=this.props.match.params;return-1!==this.props.repos.findIndex(function(t){return t.owner===e.owner&&t.repo===e.repo})}},{key:"render",value:function(){var e=this.state,t=e.user,a=e.list,n=this.isSubscribed();return v.a.createElement(v.a.Fragment,null,v.a.createElement(g.a,{logo:t&&v.a.createElement("img",{alt:"",src:t.avatarUrl}),title:v.a.createElement("a",{href:"https://github.com/".concat(this.props.match.params.owner,"/").concat(this.props.match.params.repo),target:"_blank",rel:"noopener noreferrer"},this.props.match.params.owner,"/",this.props.match.params.repo),content:t&&v.a.createElement("div",null,v.a.createElement("div",null,t.name),v.a.createElement("div",null,t.bio)),action:v.a.createElement("div",{className:I.a.title},!n&&v.a.createElement(i.a,{disabled:this.state.loading,type:"primary",onClick:this.subscribe},"\u8ba2\u9605"),n&&v.a.createElement(i.a,{disabled:this.state.loading,type:"danger",onClick:this.unsubscribe},"\u9000\u8ba2"),v.a.createElement(i.a,{disabled:this.state.loading,onClick:this.onRefresh},"\u5237\u65b0")),breadcrumbList:[{title:null}]}),v.a.createElement(k.a,null,v.a.createElement(r.a,{bordered:!1},v.a.createElement(w.a,{list:a,loading:this.state.loading}))))}}]),t}(v.a.PureComponent);t.default=Object(_.connect)(function(e){return{repos:e.app.repos}})(C)}}]);
//# sourceMappingURL=11.15f6b586.chunk.js.map