(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{101:function(e,t,n){e.exports={italic:"index_italic__2oSxV",ellipsis:"index_ellipsis__2ZLGx",ponter:"index_ponter__2EEvc",flex:"index_flex__3xRBP",loading:"index_loading__2f3dN",text:"index_text__2XxaO",percent:"index_percent__wbWnJ"}},126:function(e,t,n){"use strict";n(104);var r=n(18),a=n.n(r),o=n(1),u=n.n(o),s=n(267),c=n.n(s);t.a=function(){return u.a.createElement("div",{className:c.a.loading},u.a.createElement(a.a,{type:"loading"}))}},172:function(e,t,n){"use strict";var r,a,o,u=n(6),s=n.n(u),c=n(183),i=n(59);function p(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function u(e,t){try{var n=o[e](t),u=n.value}catch(e){return void a(e)}n.done?r(u):Promise.resolve(u).then(s,c)}function s(e){u("next",e)}function c(e){u("throw",e)}s()})}}t.a={getAccessTokenByCode:(o=p(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(c.a)("https://issuereaderapi.leanapp.cn/login",{method:"POST",body:JSON.stringify(t)}));case 1:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)}),getUserInfo:(a=p(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.getUserInfo());case 1:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)}),getWatching:(r=p(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.getWatching());case 1:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})}},183:function(e,t,n){"use strict";var r=n(271),a=n.n(r),o=n(6),u=n.n(o),s=n(22),c=n.n(s);var i,p,l={get:(i=u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.getItem("sessionToken");case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}},e,this,[[0,7]])}),p=function(){var e=this,t=arguments;return new Promise(function(n,r){var a=i.apply(e,t);function o(e,t){try{var o=a[e](t),c=o.value}catch(e){return void r(e)}o.done?n(c):Promise.resolve(c).then(u,s)}function u(e){o("next",e)}function s(e){o("throw",e)}u()})},function(){return p.apply(this,arguments)}),set:function(e){return c.a.setItem("sessionToken",e)},remove:function(){return c.a.removeItem("sessionToken")}};function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){d(e,t,n[t])})}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return e.text()}function h(e){return new Promise(function(t){t(""===e?{}:JSON.parse(e))})}function v(e){if(200<=e.status&&300>e.status)return e;var t=new Error(e.statusText);throw t.response=e,t}function y(e,t){var n=function(e){var t=f({"Content-Type":"application/json"},e),n=l.get();return n?f({},t,{SessionToken:n}):t}(t.headers),r=Object.assign({},{method:"GET",mode:"cors",headers:n},t);return a()(e,r).then(v).then(m).then(h).then(function(e){return{data:e}}).catch(function(e){return{err:e}})}n.d(t,"a",function(){return y})},267:function(e,t,n){e.exports={italic:"index_italic__AbZgB",ellipsis:"index_ellipsis__Y8D69",ponter:"index_ponter__gWgrU",loading:"index_loading__3cKY6"}},284:function(e,t,n){"use strict";n.r(t);n(278);var r=n(179),a=n.n(r),o=n(6),u=n.n(o),s=n(21),c=n(84),i=n.n(c),p=n(272),l=n.n(p),f=n(22),d=n.n(f),m=n(172),h=n(75);function v(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function u(e,t){try{var n=o[e](t),u=n.value}catch(e){return void a(e)}n.done?r(u):Promise.resolve(u).then(s,c)}function s(e){u("next",e)}function c(e){u("throw",e)}s()})}}var y,b,x,w={getAccessToken:(x=v(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.a.get());case 1:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)}),setAccessToken:(b=v(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.a.set(t));case 1:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)}),removeAccessToken:(y=v(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.a.remove());case 1:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},g=n(32);function k(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){E(e,t,n[t])})}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){var t=i.a.stringify(e),n=t?"?".concat(t):"",r=window.location.href.replace(/^([^?#]+)(\?[^#]+)(#.*)?/,"$1".concat(n,"$3"));window.history.replaceState({},"",r)};t.default={namespace:"app",state:{repos:void 0,userInfo:void 0,percent:0,status:"active"},subscriptions:{setup:function(e){var t=e.dispatch,n=e.history;return t({type:"init",payload:n.location}),n.listen(function(e){var n=e.pathname,r=e.search;if("/"===n)return t({type:"loading",payload:{pathname:n,search:r}})})}},effects:{init:u.a.mark(function e(t,n){var r,a,o,c,p,l,f;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,o=n.select,d.a.config({name:"issue-reader"}),e.next=5,o(function(e){return e.app});case 5:if(c=e.sent,p=c.userInfo,"/"!==r.pathname&&"/login"!==r.pathname&&void 0===p){e.next=9;break}return e.abrupt("return");case 9:return l="mobile"===r.pathname?"/all":r.pathname,f=i.a.stringify(Object.assign({from:l},i.a.parse(r.search))),e.next=13,a(s.routerRedux.replace({pathname:"/",search:"?".concat(f)}));case 13:case"end":return e.stop()}},e,this)}),loading:u.a.mark(function e(t,n){var r,a,o,c,p;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.payload,a=n.put,"mobile"!==new l.a(window.navigator.userAgent).device.type){e.next=9;break}return e.next=6,a({type:"save",payload:{userInfo:null}});case 6:return e.next=8,a(s.routerRedux.replace("/mobile"));case 8:return e.abrupt("return",e.sent);case 9:return o=i.a.parse(window.location.search||""),e.next=12,a.resolve({type:"getAccessToken",payload:o});case 12:if(!(c=e.sent)){e.next=21;break}return e.next=16,a.resolve({type:"getUserInfo",payload:c});case 16:if(!(p=e.sent)){e.next=21;break}return e.next=20,a({type:"loginSucceed",payload:_({userInfo:p},r)});case 20:return e.abrupt("return",e.sent);case 21:return e.next=23,a({type:"loginFaild"});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}},e,this)}),getAccessToken:u.a.mark(function e(t,n){var r,a,o,s,c,i,p,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.payload,n.put,a=n.call,o=r.code,s=r.state,c=k(r,["code","state"]),!o||!s){e.next=13;break}return I(c),e.next=7,a(m.a.getAccessTokenByCode,{code:o,state:s});case 7:if(i=e.sent,!(p=i.data)){e.next=12;break}return e.next=12,a(w.setAccessToken,p);case 12:return e.abrupt("return",p||null);case 13:return e.next=15,a(w.getAccessToken);case 15:return l=e.sent,e.abrupt("return",l||null);case 17:case"end":return e.stop()}},e,this)}),getUserInfo:u.a.mark(function e(t,n){var r,a,o,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.put,a=n.call,e.next=4,a(m.a.getUserInfo,r);case 4:return o=e.sent,s=o.data,e.abrupt("return",s&&s.viewer||null);case 7:case"end":return e.stop()}},e,this)}),logout:u.a.mark(function e(t,n){var r,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.put,a=n.call,e.next=4,a(w.removeAccessToken);case 4:return e.next=6,r({type:"save",payload:{userInfo:null}});case 6:return e.next=8,r(s.routerRedux.replace("/login"));case 8:case"end":return e.stop()}},e,this)}),loginSucceed:u.a.mark(function e(t,n){var r,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,n.call,e.next=4,a({type:"save",payload:{userInfo:r.userInfo}});case 4:return e.next=6,a.resolve({type:"updateDB",payload:r.userInfo});case 6:if(!((o=e.sent)&&0<o.length)){e.next=12;break}return e.next=10,a(s.routerRedux.replace("/all"));case 10:e.next=14;break;case 12:return e.next=14,a(s.routerRedux.replace("/user/watching"));case 14:case"end":return e.stop()}},e,this)}),loginFaild:u.a.mark(function e(t,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.put,n.call,e.next=4,r({type:"save",payload:{userInfo:null}});case 4:return e.next=6,r(s.routerRedux.replace("/login"));case 6:case"end":return e.stop()}},e,this)}),updateDB:u.a.mark(function e(t,n){var r,a,o,s,c,i,p,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,o=n.call,n.select,e.next=4,a({type:"save",payload:{percent:0,status:"active"}});case 4:return e.next=6,o(g.a.checkUser,r);case 6:return e.next=8,o(g.a.getUpdateTime);case 8:if(s=e.sent,!(36e5<(new Date).getTime()-s)){e.next=24;break}return e.next=12,o(g.a.getRepos,r);case 12:c=e.sent,i=0,p=c.length;case 14:if(!(i<p)){e.next=22;break}return e.next=17,o(g.a.syncRepoInfo,c[i]);case 17:return e.next=19,a({type:"save",payload:{percent:Math.floor(100*i/p)}});case 19:i+=1,e.next=14;break;case 22:return e.next=24,o(g.a.setUpdateTime);case 24:return e.next=26,o(g.a.getRepos,r);case 26:return l=e.sent,e.next=29,a({type:"save",payload:{percent:100,status:"success",repos:l}});case 29:return e.abrupt("return",l);case 30:case"end":return e.stop()}},e,this)}),subscribe:u.a.mark(function e(t,n){var r,o,s,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,o=n.put,s=n.call,e.next=4,s(g.a.addRepo,r);case 4:if(c=e.sent,!c.data){e.next=13;break}return e.next=9,o({type:"updateRepos"});case 9:return a.a.success({message:"\u8ba2\u9605\u6210\u529f",description:""}),e.abrupt("return",!0);case 13:return a.a.error({message:"\u8ba2\u9605\u5931\u8d25",description:""}),e.abrupt("return",!1);case 15:case"end":return e.stop()}},e,this)}),unsubscribe:u.a.mark(function e(t,n){var r,o,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,o=n.put,s=n.call,e.next=4,s(g.a.delRepo,r);case 4:return e.next=6,o({type:"updateRepos"});case 6:return a.a.success({message:"\u9000\u8ba2\u6210\u529f",description:""}),e.abrupt("return",!0);case 8:case"end":return e.stop()}},e,this)}),updateRepos:u.a.mark(function e(t,n){var r,a,o,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,o=n.call,e.next=4,o(g.a.getRepos,r);case 4:return s=e.sent,e.next=7,a({type:"save",payload:{repos:s}});case 7:case"end":return e.stop()}},e,this)})},reducers:{save:function(e,t){return _({},e,t.payload)}}}},29:function(e,t,n){e.exports={italic:"BasicLayout_italic__FvVaN",ellipsis:"BasicLayout_ellipsis__36JH3",ponter:"BasicLayout_ponter__38j9X",layout:"BasicLayout_layout__2fyse",header:"BasicLayout_header__3cI74",logo:"BasicLayout_logo__3KEMO",navBar:"BasicLayout_navBar__tVJS2",navExtra:"BasicLayout_navExtra__1LNlN",navItem:"BasicLayout_navItem__2P-pF",activedNavItem:"BasicLayout_activedNavItem__1yHgF",username:"BasicLayout_username__ZpdeO",content:"BasicLayout_content__1A5ZV",sider:"BasicLayout_sider__vZgUp",siderRight:"BasicLayout_siderRight__3YXur",placehoder:"BasicLayout_placehoder__2Mg9m",subMenu:"BasicLayout_subMenu__16LAi"}},293:function(e,t,n){"use strict";n.r(t);n(707);var r=n(833),a=n.n(r),o=n(1),u=n.n(o),s=n(21),c=n(127),i=n.n(c),p=n(832),l=n.n(p),f=n(126),d=(n(693),n(847)),m=n.n(d),h=n(63),v=n(101),y=n.n(v),b=Object(h.connect)(function(e){return{percent:e.app.percent}})(function(e){var t=e.percent;return u.a.createElement("div",{className:y.a.flex},u.a.createElement("div",{className:y.a.loading},u.a.createElement("div",{className:y.a.text},"loading"),u.a.createElement("div",{className:y.a.percent},t,"%"),u.a.createElement(m.a,{percent:t,showInfo:!1,strokeWidth:1,status:"active"})))}),x=(n(277),n(846)),w=n.n(x),g=(n(103),n(70)),k=n.n(g),_=n(61),E=n.n(_);function I(e){return(I="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return!t||"object"!==I(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return(R=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var S=function(){window.location.replace("https://github.com/login/oauth/authorize?client_id=e3fcd5f1d9cfd0d5aaaa&redirect_uri=https%3A%2F%2Fissuereader.github.io%2F&scope=repo&state=github")},C=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),j(this,R(t).apply(this,arguments))}var n,r,a;return n=t,(r=[{key:"render",value:function(){return u.a.createElement("div",{className:E.a.container},u.a.createElement(w.a,{className:E.a.card},u.a.createElement("img",{className:E.a.logo,src:"./logo128x128.png",alt:"Github Iussue Blog Reader"}),u.a.createElement("div",{className:E.a.title},"Iussue Reader"),u.a.createElement("div",{className:E.a.subtitle},"Github Iussue Blog Reader"),u.a.createElement(k.a,{className:E.a.block,onClick:S,type:"primary",icon:"github",size:"large"},"Github \u767b\u5f55")))}}])&&P(n.prototype,r),a&&P(n,a),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");O(e.prototype,t&&t.prototype),t&&O(e,t)}(t,e),t}(u.a.PureComponent),N=n(266),T=n.n(N),B=function(){return u.a.createElement(T.a,{type:"500",title:"",desc:"\u6682\u4e0d\u652f\u6301\uff0c\u8bf7\u4f7f\u7528\u7535\u8111\u8bbf\u95ee",actions:[]})},A=(n(219),n(170)),U=n.n(A),L=(n(137),n(133)),M=n.n(L),D=(n(646),n(24)),q=n.n(D),z=(n(104),n(18)),F=n.n(z),J=(n(640),n(79)),K=n.n(J),G=function(e){return function(e,t){return e.map(function(e){var n=i()({app:t,models:e.models,component:e.component}),r=!1!==e.exact;return u.a.createElement(s.Route,{key:e.path,path:e.path,exact:r,render:function(e){return u.a.createElement(n,Object.assign({},e,{app:t}))}})})}([{path:"/all",key:"all",models:function(){return[n.e(11).then(n.bind(null,845))]},component:function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,844))}},{path:"/favorites",key:"favorites",models:function(){return[n.e(9).then(n.bind(null,841))]},component:function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,840))}},{path:"/discovery",key:"discovery",models:function(){return[]},component:function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,839))}},{path:"/discovery/:owner/:repo",key:"repoinfo",models:function(){return[]},component:function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,831))}},{path:"/repos/:owner/:repo",key:"repo",models:function(){return[]},component:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,838))}},{path:"/user/profile",key:"profile",models:function(){return[]},component:function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,837))}},{path:"/user/watching",key:"watching",models:function(){return[n.e(3).then(n.bind(null,836))]},component:function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,835))}},{path:"/search",key:"search",models:function(){return[]},component:function(){return n.e(1).then(n.bind(null,834))}}],e)},W=n(29),Y=n.n(W);function Z(e){return(Z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t){return!t||"object"!==Z(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $(e){return($=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var Q=K.a.Header,ee=K.a.Content,te=K.a.Sider,ne=function(e){var t=e.pathname,n=e.repos,r=e.onClick;if(t.match(/^\/user\/.*/)){var a=[t];return u.a.createElement(q.a,{defaultSelectedKeys:["/user/profile"],selectedKeys:a,mode:"inline",onClick:r},u.a.createElement(q.a.Item,{key:"/user/profile"},u.a.createElement(F.a,{type:"user"}),u.a.createElement("span",null,"\xa0\u4e2a\u4eba\u4e2d\u5fc3")),u.a.createElement(q.a.Item,{key:"/user/watching"},u.a.createElement(F.a,{type:"github"}),u.a.createElement("span",null,"\xa0\u5173\u6ce8")))}if(t.match(/^\/search(\/.*)?/)){var o=[t];return u.a.createElement(q.a,{defaultSelectedKeys:["/search"],mode:"inline",selectedKeys:o,onClick:r},u.a.createElement(q.a.Item,{key:"/search"},"\u641c\u7d22\u7ed3\u679c"))}var s=[];return t.match(/^\/repos\/.*/)?s.push("/repos",t):t.match(/^\/discovery\/.*/)?s.push("/discovery"):s.push(t),u.a.createElement(q.a,{defaultSelectedKeys:["/all"],selectedKeys:s,mode:"inline",onClick:r},u.a.createElement(q.a.Item,{key:"/all"},"\u6240\u6709"),u.a.createElement(q.a.SubMenu,{key:"/repos",title:"\u6211\u7684\u8ba2\u9605",className:Y.a.subMenu},n&&n.map(function(e){return e&&u.a.createElement(q.a.Item,{key:"/repos/".concat(e.owner,"/").concat(e.repo)},e.user&&u.a.createElement(M.a,{size:"small",shape:"square",src:e.user.avatarUrl}),"\xa0",e.owner,"/",e.repo)}),(!n||0===n.length)&&u.a.createElement(q.a.Item,{key:"no-data",disabled:!0},"\u6ca1\u6709\u8ba2\u9605")),u.a.createElement(q.a.Item,{key:"/favorites"},"\u6211\u7684\u6536\u85cf"),u.a.createElement(q.a.Item,{key:"/discovery"},"\u53d1\u73b0"))},re=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return H(r,(n=r=H(this,(e=$(t)).call.apply(e,[this].concat(o))),r.onUserMenuClick=function(e){var t=e.key;"logout"===t?r.props.dispatch({type:"app/logout"}):r.props.dispatch(s.routerRedux.push(t))},r.onSiderMenuClick=function(e){var t=e.key;r.props.dispatch(s.routerRedux.push(t))},n))}var n,r,a;return n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.app,r=t.location,a=t.userInfo,o=t.repos;return u.a.createElement(K.a,{className:Y.a.layout},u.a.createElement(Q,{className:Y.a.header},u.a.createElement("a",{className:Y.a.logo,href:"https://github.com/IssueReader/IssueReader.github.io",target:"_blank",rel:"noopener noreferrer"},u.a.createElement("img",{alt:"IssueReader",src:"/logo128x128.png"})),u.a.createElement("div",{className:Y.a.navBar},u.a.createElement(s.Link,{to:"/all"},u.a.createElement(F.a,{type:"home"}),"\xa0\xa0\u9996\u9875")),u.a.createElement("div",{className:Y.a.navExtra},u.a.createElement("div",{className:Y.a.navItem,onClick:function(){return e.props.dispatch(s.routerRedux.push("/discovery"))}},u.a.createElement(F.a,{type:"plus"}),u.a.createElement("span",null,"\xa0\u6dfb\u52a0")),u.a.createElement("a",{className:Y.a.navItem,href:"https://github.com/IssueReader/IssueReader.github.io",target:"_blank",rel:"noopener noreferrer"},u.a.createElement(F.a,{type:"github"}),u.a.createElement("span",null,"\xa0Star on Github")),u.a.createElement(U.a,{overlay:u.a.createElement(q.a,{onClick:this.onUserMenuClick},u.a.createElement(q.a.Item,{key:"/user/profile"},u.a.createElement(F.a,{type:"user"}),u.a.createElement("span",null,"\xa0\u4e2a\u4eba\u4e2d\u5fc3")),u.a.createElement(q.a.Item,{key:"/user/watching"},u.a.createElement(F.a,{type:"github"}),u.a.createElement("span",null,"\xa0\u5173\u6ce8")),u.a.createElement(q.a.Divider,null),u.a.createElement(q.a.Item,{key:"logout"},u.a.createElement(F.a,{type:"logout"}),u.a.createElement("span",null,"\xa0\u6ce8\u9500")))},u.a.createElement("div",{className:Y.a.navItem},u.a.createElement(M.a,{size:"small",src:a.avatarUrl}),u.a.createElement("span",{className:Y.a.username},"\xa0",a.name))))),u.a.createElement(ee,{className:Y.a.content},u.a.createElement(K.a,null,u.a.createElement(te,{className:Y.a.sider,width:"240"},u.a.createElement(ne,{pathname:r.pathname,repos:o,onClick:this.onSiderMenuClick}),u.a.createElement("div",{className:Y.a.placehoder})),u.a.createElement(K.a,{className:Y.a.siderRight},u.a.createElement(ee,{style:{overflow:"initial"}},u.a.createElement(s.Switch,null,G(n),u.a.createElement(s.Redirect,{push:!0,from:"*",to:"/all"})))))))}}])&&X(n.prototype,r),a&&X(n,a),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");V(e.prototype,t&&t.prototype),t&&V(e,t)}(t,e),t}(u.a.PureComponent),ae=Object(h.connect)(function(e){return{userInfo:e.app.userInfo,repos:e.app.repos}})(re);i.a.setDefaultLoadingComponent(function(){return u.a.createElement(f.a,null)});t.default=function(e){var t=e.history,n=e.app;return u.a.createElement(a.a,{locale:l.a},u.a.createElement(s.Router,{history:t},u.a.createElement(s.Switch,null,u.a.createElement(s.Route,{path:"/",exact:!0,component:b}),u.a.createElement(s.Route,{path:"/login",exact:!0,component:C}),u.a.createElement(s.Route,{path:"/mobile",exact:!0,component:B}),u.a.createElement(s.Route,{path:"(.*)",render:function(e){return u.a.createElement(ae,Object.assign({},e,{app:n}))}}))))}},32:function(e,t,n){"use strict";var r=n(6),a=n.n(r),o=n(22),u=n.n(o),s=n(59);function c(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){p(e,t,n[t])})}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function u(e,t){try{var n=o[e](t),u=n.value}catch(e){return void a(e)}n.done?r(u):Promise.resolve(u).then(s,c)}function s(e){u("next",e)}function c(e){u("throw",e)}s()})}}var f,d,m,h,v,y,b,x,w,g,k,_,E,I=function(){var e=l(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.setItem("repos",[]);case 2:return e.next=4,u.a.setItem("issues",[]);case 4:return e.next=6,u.a.setItem("favorites",[]);case 6:return e.next=8,u.a.setItem("read",[]);case 8:return e.next=10,u.a.setItem("utime",0);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),O=function(){var e=l(a.a.mark(function e(t){var n,r,o=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:[],e.prev=1,e.next=4,u.a.getItem(t);case 4:return r=e.sent,e.abrupt("return",r||n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",n);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=l(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.setItem(t,n);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t,n){return e.apply(this,arguments)}}(),j=function(){var e=l(a.a.mark(function e(t){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("repos");case 2:return n=e.sent,-1===(r=n.findIndex(function(e){return e.owner===t.owner&&e.repo===t.repo}))?n.push(t):n[r]=i({},n[r],t),e.next=7,P("repos",n);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=l(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("issues");case 2:return n=e.sent,t.map(function(e){var t=n.findIndex(function(t){return t.owner===e.owner&&t.repo===e.repo&&t.number===e.number});return-1===t?n.push(e):n[t]=i({},n[t],e),e}),n.sort(function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)}),e.next=7,P("issues",n);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();t.a={checkUser:(E=l(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.getItem("userId");case 3:if(e.sent===t.login){e.next=9;break}return e.next=7,I();case 7:return e.next=9,u.a.setItem("userId",t.login);case 9:return e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",!1);case 15:case"end":return e.stop()}},e,this,[[0,12]])})),function(e){return E.apply(this,arguments)}),getUpdateTime:(_=l(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.getItem("utime");case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",0);case 10:case"end":return e.stop()}},e,this,[[0,7]])})),function(){return _.apply(this,arguments)}),setUpdateTime:(k=l(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(new Date).getTime(),e.next=4,u.a.setItem("utime",t);case 4:return e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",0);case 10:case"end":return e.stop()}},e,this,[[0,7]])})),function(){return k.apply(this,arguments)}),getRepos:(g=l(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O("repos"));case 1:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)}),syncRepoInfo:(w=l(a.a.mark(function e(t){var n,r,o,u;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.owner&&t.repo){e.next=2;break}return e.abrupt("return",{data:t});case 2:return e.next=4,s.a.getRepoInfo(t);case 4:if(!(n=e.sent).errMsg){e.next=7;break}return e.abrupt("return",n);case 7:return r=n.data,o=r.list,u=c(r,["list"]),e.next=10,j(u);case 10:return e.next=12,R(o);case 12:return e.abrupt("return",u);case 13:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)}),addRepo:(x=l(a.a.mark(function e(t){var n,r,o,u,i,p;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.owner,r=t.repo,e.next=3,s.a.getRepoInfo({owner:n,repo:r});case 3:if(!(o=e.sent).errMsg){e.next=6;break}return e.abrupt("return",o);case 6:return u=o.data,i=u.list,p=c(u,["list"]),e.next=9,j(p);case 9:return e.next=11,R(i);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)}),delRepo:(b=l(a.a.mark(function e(t){var n,r,o,u,s,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.owner,r=t.repo,e.next=3,O("repos");case 3:if(o=e.sent,-1===(u=o.findIndex(function(e){return e.owner===n&&e.repo===r}))){e.next=9;break}return o.splice(u,1),e.next=9,P("repos",o);case 9:return e.next=11,O("issues");case 11:if(s=e.sent,!((c=s.filter(function(e){return e.owner!==n||e.repo!==r||!e.favorite})).length<s.length)){e.next=16;break}return e.next=16,P("issues",c);case 16:return e.abrupt("return",{owner:n,repo:r});case 17:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)}),updateRepo:(y=l(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)}),getIssues:(v=l(a.a.mark(function e(){var t,n,r,o,u,s=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:0,n=s.length>1&&void 0!==s[1]?s[1]:100,e.next=4,O("issues");case 4:return r=e.sent,o=r.length,u=r.slice(t,Math.min(t+n,o)),e.abrupt("return",{data:{list:u,total:o,start:t}});case 8:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)}),getRepoInfo:(h=l(a.a.mark(function e(t){var n,r,o,u,s,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.owner,r=t.repo,e.next=3,O("repos");case 3:if(o=e.sent,u=o.find(function(e){return n===e.owner&&r===e.repo})){e.next=7;break}return e.abrupt("return",{errMsg:{response:{status:"404",message:"resp not found"}}});case 7:return e.next=9,O("issues");case 9:return s=e.sent,c=s.filter(function(e){return n===e.owner&&r===e.repo}),e.abrupt("return",{data:i({},u,{list:c})});case 12:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)}),getIssueInfo:(m=l(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.getIssueInfo(t));case 1:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)}),updateIssue:(d=l(a.a.mark(function e(t){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("issues");case 2:if(n=e.sent,-1===(r=n.findIndex(function(e){return e.owner===t.owner&&e.repo===t.repo&&e.number===t.number}))){e.next=8;break}return n[r]=i({},n[r],t),e.next=8,P("issues",n);case 8:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)}),getFavoriteIssues:(f=l(a.a.mark(function e(){var t,n,r,o,u,s,c=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:0,n=c.length>1&&void 0!==c[1]?c[1]:100,e.next=4,O("issues");case 4:return r=e.sent,o=r.filter(function(e){return e&&e.favorite}),u=o.length,s=o.slice(t,Math.min(t+n,u)),e.abrupt("return",{data:{list:s,total:u,start:t}});case 9:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})}},59:function(e,t,n){"use strict";var r=n(6),a=n.n(r),o=n(76),u=n.n(o),s=n(850),c=n.n(s),i=n(75);var p=function(){var e,t=(e=a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",new c.a({uri:"https://api.github.com/graphql",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"".concat(t.token_type," ").concat(t.access_token)}}));case 6:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function u(e,t){try{var n=o[e](t),u=n.value}catch(e){return void a(e)}n.done?r(u):Promise.resolve(u).then(s,c)}function s(e){u("next",e)}function c(e){u("throw",e)}s()})});return function(){return t.apply(this,arguments)}}();var l={query:function(){var e,t=(e=a.a.mark(function e(t){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",{errMsg:{message:"get graphql client failed!"}});case 5:return e.prev=5,e.next=8,n.query({query:t,errorPolicy:"ignore"});case 8:return r=e.sent,e.abrupt("return",{data:r.data});case 12:return e.prev=12,e.t0=e.catch(5),e.abrupt("return",{errMsg:e.t0});case 15:case"end":return e.stop()}},e,this,[[5,12]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function u(e,t){try{var n=o[e](t),u=n.value}catch(e){return void a(e)}n.done?r(u):Promise.resolve(u).then(s,c)}function s(e){u("next",e)}function c(e){u("throw",e)}s()})});return function(e){return t.apply(this,arguments)}}()},f=x(["query {\n      viewer {\n        login\n        avatarUrl\n        name\n        bio\n      }\n    }"]),d=x(['query {\n      repository(owner: "','", name: "','") {\n        issues(last : 100, states:OPEN, orderBy:{field:CREATED_AT, direction:DESC}){\n          totalCount\n          edges{\n            node{\n              title\n              number\n              createdAt\n              updatedAt\n              author{\n                login\n              }\n            }\n          }\n        }\n      }\n      user(login: "','"){\n        avatarUrl\n        bio\n        name\n      }\n    }']),m=x(["query {\n      viewer {\n        watching (first: 100","){\n          totalCount\n          edges{\n            cursor\n            node{\n              owner {\n                login\n                avatarUrl\n              }\n              name\n              issues (states:OPEN){\n                totalCount\n              }\n              stargazers {\n                totalCount\n              }\n              watchers{\n                totalCount\n              }\n            }\n          }\n        }\n      }\n    }"]),h=x(['query {\n      repository(owner: "','", name: "','") {\n        issue(number:',"){\n          body\n        }\n      }\n    }"]);function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){y(e,t,n[t])})}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function u(e,t){try{var n=o[e](t),u=n.value}catch(e){return void a(e)}n.done?r(u):Promise.resolve(u).then(s,c)}function s(e){u("next",e)}function c(e){u("throw",e)}s()})}}function x(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var w,g,k,_=function(e,t){var n={avatarUrl:"",bio:"",name:t};return e&&e.data?e.data.user?e.data.user:e.data.organization?(e.data.organization.bio="",e.data.organization):n:n};t.a={getUserInfo:function(){return l.query(u()(f))},getRepoInfo:(k=b(a.a.mark(function e(t){var n,r,o,s,c,i,p,f,m,h,y,b;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.owner,r=t.repo,o=t.team,s=void 0!==o&&o,c=t.filterAuthor,i=void 0===c||c,e.next=3,l.query(u()(d,n,r,n));case 3:if(!(p=e.sent).errMsg){e.next=6;break}return e.abrupt("return",p);case 6:return f=_(p,n),m=p&&p.data&&p.data.repository&&p.data.repository.issues,h=m&&m.totalCount||0,y=m&&m.edges||[],b={owner:n,repo:r,totalCount:h,list:y.filter(function(e){return!0===s||!1===i||e.node.author&&e.node.author.login===n}).map(function(e){return v({owner:n,repo:r},e.node,{user:f})}),user:f},e.abrupt("return",{data:b});case 12:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)}),getWatching:(g=b(a.a.mark(function e(t){var n,r,o,s,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.query(u()(m,t?', after: "'.concat(t,'"'):""));case 2:if(!(n=e.sent).errMsg){e.next=5;break}return e.abrupt("return",n);case 5:return r=n.data.viewer.watching,o=r.totalCount,s=r.edges,c={totalCount:o,list:s.map(function(e){return{cursor:e.cursor,owner:e.node.owner.login,avatarUrl:e.node.owner.avatarUrl,repo:e.node.name,issueCount:e.node.issues.totalCount,starCount:e.node.stargazers.totalCount,watchCount:e.node.watchers.totalCount}})},e.abrupt("return",{data:c});case 8:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)}),getIssueInfo:(w=b(a.a.mark(function e(t){var n,r,o,s,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.owner,r=t.repo,o=t.number,e.next=3,l.query(u()(h,n,r,o));case 3:if(!(s=e.sent).errMsg){e.next=6;break}return e.abrupt("return",s);case 6:return c={owner:n,repo:r,number:o,body:s.data.repository.issue.body},e.abrupt("return",{data:c});case 8:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})}},61:function(e,t,n){e.exports={italic:"index_italic__CfN2t",ellipsis:"index_ellipsis__2daXG",ponter:"index_ponter__27sSp",container:"index_container__24ceY",card:"index_card__T8erO",logo:"index_logo__18bP-",title:"index_title__3cJJv",subtitle:"index_subtitle__39dhY",block:"index_block__38Cp8"}},730:function(e,t,n){},75:function(e,t,n){"use strict";var r=n(6),a=n.n(r),o=n(22),u=n.n(o);var s,c;t.a={get:(s=a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.getItem("accessToken");case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}},e,this,[[0,7]])}),c=function(){var e=this,t=arguments;return new Promise(function(n,r){var a=s.apply(e,t);function o(e,t){try{var o=a[e](t),s=o.value}catch(e){return void r(e)}o.done?n(s):Promise.resolve(s).then(u,c)}function u(e){o("next",e)}function c(e){o("throw",e)}u()})},function(){return c.apply(this,arguments)}),set:function(e){return u.a.setItem("accessToken",e)},remove:function(){return u.a.removeItem("accessToken")}}},783:function(e,t){},825:function(e,t,n){"use strict";n.r(t);var r=n(63),a=n.n(r),o=n(175),u=n.n(o),s=n(274),c=n.n(s),i=n(273),p=(n(732),n(730),a()({history:u()()}));p.use(c()()),p.use({onAction:Object(i.createLogger)()}),p.model(n(284).default),p.router(n(293).default),p.start("#root")},830:function(e,t,n){n(829),e.exports=n(825)}},[[830,12,0]]]);
//# sourceMappingURL=main.9a8e9800.chunk.js.map