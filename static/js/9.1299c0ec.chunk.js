(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{521:function(e,t,a){"use strict";var n=a(1),r=a.n(n),i=a(522),s=a.n(i);t.a=function(e){var t=e.children;return r.a.createElement("div",{className:s.a.container},t)}},522:function(e,t,a){e.exports={italic:"index_italic__S_jTJ",ellipsis:"index_ellipsis__2-xoY",ponter:"index_ponter__wXfiC",container:"index_container__1ojGv"}},525:function(e,t,a){e.exports={italic:"index_italic__kflm5",ellipsis:"index_ellipsis__11Rz_",ponter:"index_ponter__25eON",modal:"index_modal__32dNG",modalTitle:"index_modalTitle__1luea",body:"index_body__32dXj",title:"index_title__YLacj",info:"index_info__3eBNH",favoriteText:"index_favoriteText__3167B",keepUnread:"index_keepUnread__1iO4m"}},527:function(e,t,a){e.exports={italic:"index_italic__2KGxq",ellipsis:"index_ellipsis__3Hq1Z",ponter:"index_ponter__1mTnR",issue:"index_issue__13C15",openedIssue:"index_openedIssue__3_9QP",user:"index_user__1rW0L",title:"index_title__2krH0",unreadTitle:"index_unreadTitle__26p9P",time:"index_time__2yG7x",actions:"index_actions__2FQW6"}},530:function(e,t,a){"use strict";a(531);var n=a(537),r=a.n(n),i=(a(245),a(104)),s=a.n(i),o=(a(144),a(19)),c=a.n(o),l=a(27),u=a(3),p=a.n(u),d=a(11),h=a(81),m=a(82),f=a(84),v=a(83),_=a(85),b=a(1),g=a.n(b),x=a(246),E=a.n(x),y=(a(532),a(535)),k=a.n(y),j=(a(540),a(545)),O=a.n(j),I=(a(533),a(534)),w=a.n(I),C=a(541),N=a.n(C),S=a(542),T=a.n(S),P=(a(543),a(544),new C.Renderer);P.code=function(e,t){var a=!(!t||!T.a.getLanguage(t))?T.a.highlight(t,e).value:e;return'<pre><code class="hljs '.concat(t,'">').concat(a,"</code></pre>")},N.a.setOptions({renderer:P});var F=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return g.a.createElement("div",{className:"markdown-body"},g.a.createElement("div",{dangerouslySetInnerHTML:{__html:N()(this.props.context)}}))}}]),t}(g.a.PureComponent),Y=a(151),R=a(35),U=a(525),z=a.n(U),D=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).state={loading:!1,visible:!0,detail:void 0},a}return Object(_.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark(function e(){var t,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0,detail:void 0}),e.next=3,R.a.getIssueInfo(this.props.info);case 3:if(t=e.sent,a=t.data,!0===this.state.loading){e.next=7;break}return e.abrupt("return");case 7:this.setState({loading:!1,detail:a||null}),this.props.updateIssue&&a&&!this.props.info.read&&this.props.updateIssue(this.props.info,{read:!0});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.setState({loading:!1,detail:!1})}},{key:"onCancel",value:function(){this.state.loading||(this.setState({visible:!1}),this.props.onCancle())}},{key:"renderFavorite",value:function(){var e=this;if(!this.props.updateIssue)return null;var t=this.props.info.favorite?{text:"\u53d6\u6d88\u6536\u85cf",icon:"heart"}:{text:"\u6536\u85cf",icon:"heart-o"};return g.a.createElement(g.a.Fragment,null,g.a.createElement(w.a,{type:"vertical"}),g.a.createElement("span",{onClick:function(){return e.props.updateIssue(e.props.info,{favorite:!e.props.info.favorite})}},g.a.createElement(c.a,{type:t.icon}),g.a.createElement("span",{className:z.a.favoriteText},"\xa0\xa0",t.text)))}},{key:"renderKeepUnread",value:function(){var e=this;return this.props.updateIssue?g.a.createElement(g.a.Fragment,null,g.a.createElement(w.a,{type:"vertical"}),g.a.createElement("span",{className:z.a.keepUnread,onClick:function(){return e.props.updateIssue(e.props.info,{read:!1})}},"\u4fdd\u6301\u672a\u8bfb")):null}},{key:"render",value:function(){var e=this,t=this.props.info;return g.a.createElement(k.a,{className:z.a.modal,width:"80%",title:g.a.createElement("span",{className:z.a.modalTitle},t.title),visible:this.state.visible,onCancel:function(){return e.onCancel()},footer:null,destroyOnClose:!0,maskClosable:!0},g.a.createElement("div",{className:z.a.body},g.a.createElement("h1",{className:z.a.title},t.title),g.a.createElement("div",{className:z.a.info},g.a.createElement("a",{href:"https://github.com/".concat(t.owner,"/").concat(t.repo,"/issues/").concat(t.number),target:"_blank",rel:"noopener noreferrer"},"\u67e5\u770b\u539f\u6587"),g.a.createElement(w.a,{type:"vertical"}),g.a.createElement(s.a,{className:z.a.avatarUrl,size:"small",src:t.user.avatarUrl}),g.a.createElement("span",{className:z.a.userName},"\xa0\xa0",t.user.name),g.a.createElement(w.a,{type:"vertical"}),E()(t.createdAt).format("YYYY\u5e74M\u6708D\u65e5"),this.renderFavorite(),this.renderKeepUnread()),void 0===this.state.detail&&g.a.createElement(Y.a,null),null===this.state.detail&&g.a.createElement(O.a,{message:"\u52a0\u8f7d\u5931\u8d25",description:"\u83b7\u53d6\u6587\u7ae0\u8be6\u7ec6\u4fe1\u606f\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc",type:"error",showIcon:!0}),this.state.detail&&g.a.createElement(F,{context:this.state.detail.body})))}}]),t}(g.a.PureComponent),G=a(527),L=a.n(G),Q=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).state={selected:void 0},a}return Object(_.a)(t,e),Object(m.a)(t,[{key:"showIssueDetail",value:function(){var e=Object(d.a)(p.a.mark(function e(t,a){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({selected:void 0});case 2:return console.log(a),e.next=5,this.setState({selected:a});case 5:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"hideIssueDetail",value:function(){var e=Object(d.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({selected:void 0});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateIssue",value:function(e,t){this.props.updateIssue(Object(l.a)({owner:e.owner,repo:e.repo,number:e.number},t));var a=this.state.selected;a&&e.owner===a.owner&&e.repo===a.repo&&e.number===a.number&&this.setState({selected:Object(l.a)({},a,t)})}},{key:"renderFavorite",value:function(e){var t=this;if(!this.props.updateIssue)return null;var a=function(){return t.updateIssue(e,{favorite:!e.favorite})};return e.favorite?g.a.createElement(c.a,{title:"\u53d6\u6d88\u6536\u85cf",onClick:a,type:"heart"}):g.a.createElement(c.a,{title:"\u6536\u85cf",onClick:a,type:"heart-o"})}},{key:"render",value:function(){var e=this;return g.a.createElement(g.a.Fragment,null,g.a.createElement(r.a,{size:"large",rowKey:function(e){return"".concat(e.owner,"/").concat(e.repo,"/").concat(e.number)},loading:this.props.loading,className:L.a.list,dataSource:this.props.list,pagination:!1,renderItem:function(t){return g.a.createElement(r.a.Item,{onClick:function(a){return e.showIssueDetail(a,t)}},g.a.createElement(s.a,{size:"small",src:t.user.avatarUrl}),g.a.createElement("div",{className:L.a.user},t.user.name),g.a.createElement("div",{className:t.read?L.a.title:L.a.unreadTitle},g.a.createElement("a",{onClick:function(e){return e.preventDefault()},href:"https://github.com/".concat(t.owner,"/").concat(t.repo,"/issues/").concat(t.number)},t.title)),g.a.createElement("div",{className:L.a.time},E()(t.createdAt).format("YYYY\u5e74M\u6708D\u65e5")),g.a.createElement("div",{className:L.a.actions,onClick:function(e){return e.stopPropagation()}},e.renderFavorite(t),g.a.createElement("a",{href:"https://github.com/".concat(t.owner,"/").concat(t.repo,"/issues/").concat(t.number),target:"_blink"},g.a.createElement(c.a,{type:"export"}))))}}),this.state.selected&&g.a.createElement(D,{info:this.state.selected,updateIssue:this.props.updateIssue&&function(t,a){return e.updateIssue(t,a)},onCancle:function(){return e.hideIssueDetail()}}))}}]),t}(g.a.PureComponent);t.a=Q},801:function(e,t,a){e.exports={italic:"index_italic__1lfbk",ellipsis:"index_ellipsis__XI-33",ponter:"index_ponter__1AQGv",pagination:"index_pagination__2b5QF"}},928:function(e,t,a){"use strict";a.r(t);a(247);var n=a(147),r=a.n(n),i=(a(539),a(546)),s=a.n(i),o=(a(145),a(86)),c=a.n(o),l=a(27),u=a(81),p=a(82),d=a(84),h=a(83),m=a(85),f=a(150),v=a(1),_=a.n(v),b=a(51),g=a(75),x=a.n(g),E=a(16),y=a(524),k=a.n(y),j=a(521),O=a(530),I=a(801),w=a.n(I),C=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onRefresh=a.onRefresh.bind(Object(f.a)(Object(f.a)(a))),a.onPageChange=a.onPageChange.bind(Object(f.a)(Object(f.a)(a))),a.updateIssue=a.updateIssue.bind(Object(f.a)(Object(f.a)(a))),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"onRefresh",value:function(){this.props.dispatch(E.routerRedux.push({pathname:this.props.location.pathname,search:this.props.location.search}))}},{key:"onPageChange",value:function(e){var t=x.a.parse(this.props.location.search);this.props.dispatch(E.routerRedux.push({pathname:this.props.location.pathname,search:x.a.stringify(Object(l.a)({},t,{page:1===e?void 0:e}))}))}},{key:"updateIssue",value:function(e){this.props.dispatch({type:"favorites/updateIssue",payload:e})}},{key:"render",value:function(){return _.a.createElement(_.a.Fragment,null,_.a.createElement(k.a,{title:"\u6211\u7684\u6536\u85cf",action:_.a.createElement(c.a,{type:"primary",onClick:this.onRefresh},"\u5237\u65b0"),breadcrumbList:[{title:null}]}),_.a.createElement(j.a,null,_.a.createElement(r.a,{bordered:!1},_.a.createElement(O.a,{list:this.props.list,loading:this.props.loading,updateIssue:this.updateIssue}),_.a.createElement(s.a,{className:w.a.pagination,current:this.props.page,showQuickJumper:!0,pageSize:this.props.pageSize,total:this.props.total,showTotal:function(e){return"\u5171 ".concat(e," \u9879")},onChange:this.onPageChange}))))}}]),t}(_.a.PureComponent);t.default=Object(b.connect)(function(e){return{loading:e.favorites.loading,list:e.favorites.list,total:e.favorites.total,page:e.favorites.page,pageSize:e.favorites.pageSize}})(C)}}]);
//# sourceMappingURL=9.1299c0ec.chunk.js.map