{"version":3,"sources":["routes/Discovery/index.module.less","routes/Discovery/index.js"],"names":["module","exports","pointer","Discovery","value","match","length","this","props","dispatch","dva_router__WEBPACK_IMPORTED_MODULE_12__","push","pathname","concat","antd_lib_notification__WEBPACK_IMPORTED_MODULE_9___default","a","error","message","owner","_ref","repo","_this","react__WEBPACK_IMPORTED_MODULE_10___default","createElement","Fragment","ant_design_pro_lib_PageHeader__WEBPACK_IMPORTED_MODULE_13___default","title","antd_lib_input__WEBPACK_IMPORTED_MODULE_7___default","Search","placeholder","onSearch","enterButton","breadcrumbList","_components_PageBody__WEBPACK_IMPORTED_MODULE_14__","antd_lib_list__WEBPACK_IMPORTED_MODULE_1___default","grid","gutter","xxl","xl","sm","dataSource","name","avatarUrl","renderItem","it","Item","antd_lib_card__WEBPACK_IMPORTED_MODULE_3___default","className","_index_module_less__WEBPACK_IMPORTED_MODULE_15___default","onClick","antd_lib_avatar__WEBPACK_IMPORTED_MODULE_5___default","size","shape","src","PureComponent","__webpack_exports__","Object","dva__WEBPACK_IMPORTED_MODULE_11__","state","repos","app"],"mappings":"6EACAA,EAAAC,SAAkBC,QAAA,whCCQZC,kOACKC,GACP,GAAKA,EAAL,CAIA,IAAMC,EAAQD,EAAMC,MAAM,6CACrBA,GAAS,IAAMA,EAAMC,OAI1BC,KAAKC,MAAMC,SAASC,EAAA,YAAYC,MAC9BC,8BAAwBP,EAAM,GAA9B,KAAAQ,OAAoCR,EAAM,OAJ1CS,EAAAC,EAAaC,OAAQC,QAAS,4EAL9BH,EAAAC,EAAaC,OAAQC,QAAS,uGAYZ,IAAfC,EAAeC,EAAfD,MAAOE,EAAQD,EAARC,KACZb,KAAKC,MAAMC,SAASC,EAAA,YAAYC,MAC9BC,8BAAwBM,EAAxB,KAAAL,OAAiCO,uCAG5B,IAAAC,EAAAd,KAeP,OACEe,EAAAP,EAAAQ,cAACD,EAAAP,EAAMS,SAAP,KACEF,EAAAP,EAAAQ,cAACE,EAAAV,GACCW,MAAOJ,EAAAP,EAAAQ,cAAAI,EAAAZ,EAAOa,QACZC,YAAY,8GACZC,SAAU,SAAA1B,GAAA,OAASiB,EAAKS,SAAS1B,IACjC2B,aAAA,IAEFC,iBAAmBN,MAAO,SAE5BJ,EAAAP,EAAAQ,cAACU,EAAA,EAAD,KAIEX,EAAAP,EAAAQ,cAAAW,EAAAnB,GACEoB,MAAQC,OAAQ,GAAIC,IAAK,EAAGC,GAAI,EAAGC,GAAI,GACvCC,aA7BJtB,MAAO,aAAcE,KAAM,OAAQqB,KAAM,aAAcC,UAAW,mDAClExB,MAAO,QAASE,KAAM,OAAQqB,KAAM,QAASC,UAAW,qDACxDxB,MAAO,UAAWE,KAAM,OAAQqB,KAAM,2BAAkBC,UAAW,mDACnExB,MAAO,SAAUE,KAAM,OAAQqB,KAAM,qBAAOC,UAAW,oDACvDxB,MAAO,YAAaE,KAAM,OAAQqB,KAAM,qBAAOC,UAAW,qDAC1DxB,MAAO,cAAeE,KAAM,OAAQqB,KAAM,eAAMC,UAAW,sDAC3DxB,MAAO,OAAQE,KAAM,OAAQqB,KAAM,OAAQC,UAAW,qDACtDxB,MAAO,QAASE,KAAM,OAAQqB,KAAM,2BAAQC,UAAW,sDACvDxB,MAAO,UAAWE,KAAM,OAAQqB,KAAM,WAAYC,UAAW,oDAC7DxB,MAAO,SAAUE,KAAM,OAAQqB,KAAM,SAAUC,UAAW,sDAC1DxB,MAAO,aAAcE,KAAM,eAAgBqB,KAAM,aAAcC,UAAW,sDAC1ExB,MAAO,UAAWE,KAAM,OAAQqB,KAAM,uCAAUC,UAAW,qDAmBvDC,WAAY,SAAAC,GAAA,OACVtB,EAAAP,EAAAQ,cAAAW,EAAAnB,EAAM8B,KAAN,KACEvB,EAAAP,EAAAQ,cAAAuB,EAAA/B,GAAMgC,UAAWC,EAAAjC,EAAOb,QAASwB,MAAA,GAAAb,OAAU+B,EAAG1B,MAAb,KAAAL,OAAsB+B,EAAGxB,MAAQ6B,QAAS,kBAAM5B,EAAKV,KAAKiC,KACzFtB,EAAAP,EAAAQ,cAAA2B,EAAAnC,GAAQoC,KAAK,QAAQC,MAAM,SAASC,IAAKT,EAAGF,YAD9C,OAESE,EAAGH,wNAxDJnB,EAAAP,EAAMuC,eAkF9BC,EAAA,QAAeC,OAAAC,EAAA,QAAAD,CAAQ,SAAAE,GAAA,OACrBC,MAAOD,EAAME,IAAID,QADnB,CAEIxD","file":"static/js/7.296e25fb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"pointer\":\"index_pointer__3euI7\"};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'dva';\r\nimport { routerRedux } from 'dva/router';\r\nimport { Card, Input, notification, Avatar, List } from 'antd';\r\nimport PageHeader from 'ant-design-pro/lib/PageHeader';\r\nimport PageBody from '../../components/PageBody';\r\nimport styles from './index.module.less';\r\n\r\nclass Discovery extends React.PureComponent {\r\n  onSearch(value) {\r\n    if (!value) {\r\n      notification.error({ message: '请输入想订阅的仓库地址' });\r\n      return;\r\n    }\r\n    const match = value.match(/^https:\\/\\/github\\.com\\/([^/]+)\\/([^/]+)$/);\r\n    if (!match || 3 !== match.length) {\r\n      notification.error({ message: '仓库地址不合法，请检查' });\r\n      return;\r\n    }\r\n    this.props.dispatch(routerRedux.push({\r\n      pathname: `/discovery/${match[1]}/${match[2]}`,\r\n    }));\r\n  }\r\n  push({ owner, repo }) {\r\n    this.props.dispatch(routerRedux.push({\r\n      pathname: `/discovery/${owner}/${repo}`,\r\n    }));\r\n  }\r\n  render() {\r\n    const list = [\r\n      { owner: 'lifesinger', repo: 'blog', name: 'lifesinger', avatarUrl: 'https://avatars2.githubusercontent.com/u/97227' },\r\n      { owner: 'xufei', repo: 'blog', name: 'xufei', avatarUrl: 'https://avatars2.githubusercontent.com/u/2725159' },\r\n      { owner: 'sorrycc', repo: 'blog', name: 'chencheng (云谦)', avatarUrl: 'https://avatars1.githubusercontent.com/u/35128' },\r\n      { owner: 'fouber', repo: 'blog', name: '张云龙', avatarUrl: 'https://avatars1.githubusercontent.com/u/536297' },\r\n      { owner: 'youngwind', repo: 'blog', name: '梁少峰', avatarUrl: 'https://avatars0.githubusercontent.com/u/8401872' },\r\n      { owner: 'mqyqingfeng', repo: 'Blog', name: '冴羽', avatarUrl: 'https://avatars1.githubusercontent.com/u/11458263' },\r\n      { owner: 'dwqs', repo: 'blog', name: 'Pomy', avatarUrl: 'https://avatars3.githubusercontent.com/u/7871813' },\r\n      { owner: 'jawil', repo: 'blog', name: '微醺岁月', avatarUrl: 'https://avatars0.githubusercontent.com/u/16515708' },\r\n      { owner: 'camsong', repo: 'blog', name: 'Cam Song', avatarUrl: 'https://avatars1.githubusercontent.com/u/948896' },\r\n      { owner: 'wengjq', repo: 'Blog', name: 'wengjq', avatarUrl: 'https://avatars3.githubusercontent.com/u/17982300' },\r\n      { owner: 'Colafornia', repo: 'little-robot', name: 'Colafornia', avatarUrl: 'https://avatars3.githubusercontent.com/u/13252625' },\r\n      { owner: 'riskers', repo: 'blog', name: '一波不是一波', avatarUrl: 'https://avatars1.githubusercontent.com/u/5653652' },\r\n    ];\r\n    return (\r\n      <React.Fragment>\r\n        <PageHeader\r\n          title={<Input.Search\r\n            placeholder=\"输入想订阅的仓库地址，如 https://github.com/lifesinger/blog\"\r\n            onSearch={value => this.onSearch(value)}\r\n            enterButton\r\n          />}\r\n          breadcrumbList={[{ title: null }]}\r\n        />\r\n        <PageBody>\r\n          {/* <Card bordered={false}>\r\n            后续加入优质博客推荐功能，暂不支持\r\n          </Card> */}\r\n          <List\r\n            grid={{ gutter: 16, xxl: 6, xl: 4, sm: 3 }}\r\n            dataSource={list}\r\n            renderItem={it => (\r\n              <List.Item>\r\n                <Card className={styles.pointer} title={`${it.owner}/${it.repo}`} onClick={() => this.push(it)}>\r\n                  <Avatar size=\"small\" shape=\"square\" src={it.avatarUrl} />\r\n                  &nbsp;{it.name}\r\n                </Card>\r\n              </List.Item>\r\n            )}\r\n          />\r\n          {/* <Row gutter={16}>\r\n            {list.map(it => <Col xxl={4} xl={6} lg={4}>\r\n              <Card bordered={false}>\r\n                <div>\r\n                  <Avatar size=\"small\" shape=\"square\" src={it.avatarUrl} />\r\n                  &nbsp;{it.owner}/{it.repo}\r\n                </div>\r\n                <div>{it.name}</div>\r\n              </Card>\r\n            </Col>)}\r\n          </Row> */}\r\n        </PageBody>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nDiscovery.propTypes = {\r\n  repos: PropTypes.array,\r\n};\r\n\r\nexport default connect(state => ({\r\n  repos: state.app.repos,\r\n}))(Discovery);\r\n"],"sourceRoot":""}