{"version":3,"sources":["components/PageBody/index.js","components/PageBody/index.module.less","routes/Profile/index.module.less","routes/Profile/index.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_index_module_less__WEBPACK_IMPORTED_MODULE_1__","_index_module_less__WEBPACK_IMPORTED_MODULE_1___default","PageBody","_ref","children","a","createElement","className","styles","container","module","exports","italic","ellipsis","ponter","muted","highlight","Profile","props","_this","Object","D_github_issue_reader_dva_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_21__","this","D_github_issue_reader_dva_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_23__","D_github_issue_reader_dva_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_24__","call","state","selected","undefined","loading","setState","item","D_github_issue_reader_dva_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_20__","localForageService","updateRepo","owner","repo","team","filterAuthor","dispatch","type","syncRepoInfo","antd_lib_notification__WEBPACK_IMPORTED_MODULE_18___default","success","message","description","_this2","react__WEBPACK_IMPORTED_MODULE_26___default","Fragment","ant_design_pro_lib_PageHeader__WEBPACK_IMPORTED_MODULE_28___default","logo","userInfo","alt","src","avatarUrl","title","name","content","login","bio","action","antd_lib_button__WEBPACK_IMPORTED_MODULE_13___default","onClick","antd_lib_modal__WEBPACK_IMPORTED_MODULE_15___default","alert","breadcrumbList","_components_PageBody__WEBPACK_IMPORTED_MODULE_29__","antd_lib_card__WEBPACK_IMPORTED_MODULE_3___default","bordered","antd_lib_table__WEBPACK_IMPORTED_MODULE_5___default","columns","key","render","text","antd_lib_avatar__WEBPACK_IMPORTED_MODULE_11___default","user","dataIndex","value","antd_lib_icon__WEBPACK_IMPORTED_MODULE_9___default","showModal","antd_lib_divider__WEBPACK_IMPORTED_MODULE_7___default","href","concat","target","dataSource","repos","pagination","rowKey","record","visible","maskClosable","confirmLoading","onOk","onCancel","hideModal","antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_1___default","onChange","e","checked","React","PureComponent","connect","app"],"mappings":"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","file":"static/js/13.b4e6e7af.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './index.module.less';\r\n\r\n\r\nconst PageBody = ({ children }) => {\r\n  return (\r\n    <div className={styles.container}>{children}</div>\r\n  );\r\n};\r\n\r\nPageBody.propTypes = {\r\n  children: PropTypes.oneOfType([\r\n    PropTypes.string.isRequired,\r\n    PropTypes.element.isRequired,\r\n    PropTypes.arrayOf(PropTypes.element),\r\n  ]),\r\n};\r\n\r\nexport default PageBody;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"italic\":\"index_italic__S_jTJ\",\"ellipsis\":\"index_ellipsis__2-xoY\",\"ponter\":\"index_ponter__wXfiC\",\"container\":\"index_container__1ojGv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"italic\":\"index_italic__Y36IZ\",\"ellipsis\":\"index_ellipsis__AWROE\",\"ponter\":\"index_ponter__3sls4\",\"muted\":\"index_muted__1YvnX\",\"highlight\":\"index_highlight__2cOis\"};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'dva';\r\nimport { Table, Button, Card, Avatar, Modal, Divider, Icon, Checkbox, notification } from 'antd';\r\nimport PageHeader from 'ant-design-pro/lib/PageHeader';\r\nimport PageBody from '../../components/PageBody';\r\nimport localForageService from '../../services/localForage';\r\nimport styles from './index.module.less';\r\n\r\n\r\nclass Profile extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selected: undefined,\r\n      loading: false,\r\n    };\r\n  }\r\n  componentWillUnmount() {\r\n    this.setState({ selected: undefined, loading: false });\r\n  }\r\n  showModal(item) {\r\n    if (this.state.selected || this.state.loading) {\r\n      return;\r\n    }\r\n    this.setState({ selected: { ...item } });\r\n  }\r\n  hideModal() {\r\n    if (this.state.loading) {\r\n      return;\r\n    }\r\n    this.setState({ selected: undefined });\r\n  }\r\n  async updateRepo() {\r\n    if (this.state.loading) {\r\n      return;\r\n    }\r\n    this.setState({ loading: true });\r\n    await localForageService.updateRepo({\r\n      owner: this.state.selected.owner,\r\n      repo: this.state.selected.repo,\r\n      team: this.state.selected.team,\r\n      filterAuthor: this.state.selected.filterAuthor,\r\n    });\r\n    this.props.dispatch({ type: 'app/updateRepos' });\r\n    await localForageService.syncRepoInfo(this.state.selected);\r\n    if (!this.state.loading) {\r\n      return;\r\n    }\r\n    notification.success({ message: '保存成功', description: '' });\r\n    this.setState({ selected: undefined, loading: false });\r\n  }\r\n  render() {\r\n    return (<React.Fragment>\r\n      <PageHeader\r\n        logo={this.props.userInfo && <img alt=\"\" src={this.props.userInfo.avatarUrl} />}\r\n        title={this.props.userInfo.name}\r\n        content={this.props.userInfo && <div>\r\n          <div>{this.props.userInfo.login}</div>\r\n          <div>{this.props.userInfo.bio}</div>\r\n        </div>}\r\n        action={<Button type=\"primary\" onClick={() => Modal.alert({ message: '暂不支持同步配置文件功能' })}>同步</Button>}\r\n        breadcrumbList={[{ title: null }]}\r\n      />\r\n      <PageBody>\r\n        <Card bordered={false}>\r\n          <Table\r\n            columns={[{\r\n              title: '博主',\r\n              key: 'owner',\r\n              render: (text, item) => (\r\n                <span>\r\n                  <Avatar src={item.user && item.user.avatarUrl} />\r\n                  &nbsp;&nbsp;{item.owner}\r\n                  {item.user && item.user.name && <span>（{item.user.name}）</span>}\r\n                </span>\r\n              ),\r\n            }, {\r\n              title: 'Github 仓库',\r\n              dataIndex: 'repo',\r\n              key: 'repo',\r\n            }, {\r\n              title: '文章数',\r\n              dataIndex: 'totalCount',\r\n              key: 'totalCount',\r\n            }, {\r\n              title: '团队博客',\r\n              dataIndex: 'team',\r\n              key: 'team',\r\n              render: (value) => (value ? <span className={styles.highlight}>是</span> : <span className={styles.muted}>否</span>),\r\n            }, {\r\n              title: '过滤作者',\r\n              dataIndex: 'filterAuthor',\r\n              key: 'filterAuthor',\r\n              render: (value) => (false === value ? <span className={styles.highlight}>否</span> : <span className={styles.muted}>是</span>),\r\n            }, {\r\n              title: '操作',\r\n              key: 'action',\r\n              render: (text, item) => (<React.Fragment>\r\n                <Icon type=\"setting\" onClick={() => this.showModal(item)} />\r\n                <Divider type=\"vertical\" />\r\n                <a href={`https://github.com/${item.owner}/${item.repo}/issues`} target=\"_blink\">\r\n                  <Icon type=\"export\" />\r\n                </a>\r\n              </React.Fragment>),\r\n            }]}\r\n            dataSource={this.props.repos}\r\n            pagination={false}\r\n            rowKey={record => `${record.owner}/${record.repo}`}\r\n          />\r\n        </Card>\r\n      </PageBody>\r\n      {this.state.selected && <Modal\r\n        title={`${this.state.selected.owner}/${this.state.selected.repo}`}\r\n        visible\r\n        maskClosable={false}\r\n        confirmLoading={this.state.loading}\r\n        onOk={() => this.updateRepo()}\r\n        onCancel={() => this.hideModal()}\r\n      >\r\n        <p>\r\n          <Checkbox\r\n            onChange={(e) => this.setState({ selected: { ...this.state.selected, team: e.target.checked } })}\r\n            checked={true === this.state.selected.team}\r\n          >团队博客</Checkbox>\r\n        </p>\r\n        <p>\r\n          <Checkbox\r\n            onChange={(e) => this.setState({ selected: { ...this.state.selected, filterAuthor: e.target.checked } })}\r\n            checked={false !== this.state.selected.filterAuthor}\r\n          >过滤作者</Checkbox>\r\n        </p>\r\n      </Modal>}\r\n    </React.Fragment>);\r\n  }\r\n}\r\n\r\n\r\nProfile.propTypes = {\r\n  userInfo: PropTypes.object,\r\n  repos: PropTypes.array,\r\n};\r\n\r\nexport default connect(state => ({\r\n  userInfo: state.app.userInfo,\r\n  repos: state.app.repos,\r\n}))(Profile);\r\n"],"sourceRoot":""}