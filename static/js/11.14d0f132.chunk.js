(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{838:function(e,t,r){"use strict";r.r(t);var n=r(6),a=r.n(n),u=r(83),s=r.n(u),o=r(32);function c(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){p(e,t,r[t])})}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.default={namespace:"all",state:{list:[],loading:!1,total:void 0,page:1,pageSize:20},subscriptions:{setup:function(e){var t=e.dispatch;return e.history.listen(function(e){var r=e.pathname,n=e.search;if("/all"===r)return t({type:"load",payload:{search:n}})})}},effects:{load:a.a.mark(function e(t,r){var n,u,c,i,p,l,d,f,y,b;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,u=r.call,c=r.put,i=r.select,p=s.a.parse(n.search),l=parseInt(p.page||1,10),e.next=6,i(function(e){return e.all});case 6:if(d=e.sent,f=d.pageSize,!d.loading){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,c({type:"save",payload:{list:[],loading:!0,page:l}});case 13:return e.next=15,u(o.a.getIssues,(l-1)*f,f);case 15:return y=e.sent,b=y.data,e.next=19,c({type:"save",payload:{loading:!1,list:b&&b.list||null,total:b&&b.total}});case 19:case"end":return e.stop()}},e,this)}),subscribe:a.a.mark(function e(t,r){var n,u,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload,u=r.put,r.call,!n.loading){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,u.resolve({type:"update",payload:i({},n,{loading:!0})});case 6:return e.next=8,u.resolve({type:"app/subscribe",payload:n});case 8:return s=e.sent,e.next=11,u.resolve({type:"update",payload:i({},n,{loading:!1,watch:s})});case 11:case"end":return e.stop()}},e,this)}),unsubscribe:a.a.mark(function e(t,r){var n,u,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload,u=r.put,r.call,!n.loading){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,u.resolve({type:"update",payload:i({},n,{loading:!0})});case 6:return e.next=8,u.resolve({type:"app/unsubscribe",payload:n});case 8:return s=e.sent,e.next=11,u.resolve({type:"update",payload:i({},n,{loading:!1,watch:!s})});case 11:case"end":return e.stop()}},e,this)}),update:a.a.mark(function e(t,r){var n,u,s,o,p,l,d;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,u=r.put,s=r.select,e.next=4,s(function(e){return e.watching});case 4:if(o=e.sent,p=o.list){e.next=8;break}return e.abrupt("return");case 8:if(-1!==(l=p.findIndex(function(e){return n.owner===e.owner&&n.repo===e.repo}))){e.next=11;break}return e.abrupt("return");case 11:return(d=c(p))[l]=i({},d[l],n),e.next=15,u({type:"save",payload:{list:d}});case 15:case"end":return e.stop()}},e,this)}),updateIssue:a.a.mark(function e(t,r){var n,u,s,p,l,d,f,y;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,u=r.put,s=r.call,p=r.select,e.next=4,s(o.a.updateIssue,n);case 4:return e.next=6,p(function(e){return e.all});case 6:if(l=e.sent,d=l.list,-1===(f=d.findIndex(function(e){return e.owner===n.owner&&e.repo===n.repo&&e.number===n.number}))){e.next=14;break}return(y=c(d))[f]=i({},y[f],n),e.next=14,u({type:"save",payload:{list:y}});case 14:case"end":return e.stop()}},e,this)})},reducers:{save:function(e,t){return i({},e,t.payload)}}}}}]);
//# sourceMappingURL=11.14d0f132.chunk.js.map