{"version":3,"sources":["components/PageBody/index.js","components/PageBody/index.module.less","components/Issues/Issue/index.module.less","components/Issues/index.module.less","components/Marked.js","components/Issues/Issue/index.js","components/Issues/index.js","routes/Favorites/index.module.less","routes/Favorites/index.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_index_module_less__WEBPACK_IMPORTED_MODULE_1__","_index_module_less__WEBPACK_IMPORTED_MODULE_1___default","PageBody","_ref","children","a","createElement","className","styles","container","module","exports","italic","ellipsis","ponter","modal","modalTitle","body","title","info","favoriteText","keepUnread","issue","openedIssue","user","unreadTitle","time","actions","renderer","Renderer","code","language","highlighted","highlightjs","getLanguage","highlight","value","concat","marked","setOptions","Marked","react_default","dangerouslySetInnerHTML","__html","this","props","context","React","PureComponent","Issue","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","loading","visible","detail","undefined","setState","localForageService","getIssueInfo","data","updateIssue","read","onCancle","_this2","favorite","text","icon","Fragment","divider_default","type","onClick","icon_default","_this3","_this4","modal_default","width","onCancel","footer","destroyOnClose","maskClosable","href","owner","repo","number","target","rel","avatar_default","avatarUrl","size","src","userName","name","moment","createdAt","format","renderFavorite","renderKeepUnread","Loading","alert_default","message","description","showIcon","components_Marked","Issues","selected","e","item","console","log","objectSpread","list_default","rowKey","record","list","dataSource","pagination","renderItem","Item","showIssueDetail","preventDefault","stopPropagation","Issues_Issue","hideIssueDetail","Favorites","D_github_issue_reader_dva_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_7__","D_github_issue_reader_dva_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_9__","D_github_issue_reader_dva_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_10__","onRefresh","bind","D_github_issue_reader_dva_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_12__","onPageChange","dispatch","routerRedux","push","pathname","location","search","page","parsed","queryString","parse","stringify","D_github_issue_reader_dva_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_6__","payload","react__WEBPACK_IMPORTED_MODULE_13___default","ant_design_pro_lib_PageHeader__WEBPACK_IMPORTED_MODULE_17___default","action","antd_lib_button__WEBPACK_IMPORTED_MODULE_5___default","breadcrumbList","_components_PageBody__WEBPACK_IMPORTED_MODULE_18__","antd_lib_card__WEBPACK_IMPORTED_MODULE_1___default","bordered","_components_Issues__WEBPACK_IMPORTED_MODULE_19__","antd_lib_pagination__WEBPACK_IMPORTED_MODULE_3___default","current","showQuickJumper","pageSize","total","showTotal","t","onChange","connect","favorites"],"mappings":"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","file":"static/js/9.1299c0ec.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './index.module.less';\r\n\r\n\r\nconst PageBody = ({ children }) => {\r\n  return (\r\n    <div className={styles.container}>{children}</div>\r\n  );\r\n};\r\n\r\nPageBody.propTypes = {\r\n  children: PropTypes.oneOfType([\r\n    PropTypes.string.isRequired,\r\n    PropTypes.element.isRequired,\r\n    PropTypes.arrayOf(PropTypes.element),\r\n  ]),\r\n};\r\n\r\nexport default PageBody;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"italic\":\"index_italic__S_jTJ\",\"ellipsis\":\"index_ellipsis__2-xoY\",\"ponter\":\"index_ponter__wXfiC\",\"container\":\"index_container__1ojGv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"italic\":\"index_italic__kflm5\",\"ellipsis\":\"index_ellipsis__11Rz_\",\"ponter\":\"index_ponter__25eON\",\"modal\":\"index_modal__32dNG\",\"modalTitle\":\"index_modalTitle__1luea\",\"body\":\"index_body__32dXj\",\"title\":\"index_title__YLacj\",\"info\":\"index_info__3eBNH\",\"favoriteText\":\"index_favoriteText__3167B\",\"keepUnread\":\"index_keepUnread__1iO4m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"italic\":\"index_italic__2KGxq\",\"ellipsis\":\"index_ellipsis__3Hq1Z\",\"ponter\":\"index_ponter__1mTnR\",\"issue\":\"index_issue__13C15\",\"openedIssue\":\"index_openedIssue__3_9QP\",\"user\":\"index_user__1rW0L\",\"title\":\"index_title__2krH0\",\"unreadTitle\":\"index_unreadTitle__26p9P\",\"time\":\"index_time__2yG7x\",\"actions\":\"index_actions__2FQW6\"};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport marked, { Renderer } from 'marked';\r\nimport highlightjs from 'highlight.js';\r\nimport 'github-markdown-css/github-markdown.css';\r\nimport 'highlight.js/styles/github.css';\r\n\r\nconst renderer = new Renderer();\r\nrenderer.code = (code, language) => {\r\n  // Check whether the given language is valid for highlight.js.\r\n  const validLang = !!(language && highlightjs.getLanguage(language));\r\n  // Highlight only if the language is valid.\r\n  const highlighted = validLang ? highlightjs.highlight(language, code).value : code;\r\n  // Render the highlighted code with `hljs` class.\r\n  return `<pre><code class=\"hljs ${language}\">${highlighted}</code></pre>`;\r\n};\r\n\r\n// Set the renderer to marked.\r\nmarked.setOptions({ renderer });\r\n\r\n\r\nclass Marked extends React.PureComponent {\r\n  render() {\r\n    // eslint-disable-next-line\r\n    return <div className=\"markdown-body\">\r\n      <div dangerouslySetInnerHTML={{ __html: marked(this.props.context) }} />\r\n    </div>;\r\n  }\r\n}\r\n\r\nMarked.propTypes = {\r\n  context: PropTypes.string,\r\n};\r\n\r\nexport default Marked;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n// import moment from 'moment';\r\nimport { Modal, Avatar, Divider, Icon, Alert } from 'antd';\r\nimport moment from 'moment';\r\nimport Marked from '../../Marked';\r\nimport Loading from '../../Loading';\r\nimport localForageService from '../../../services/localForage';\r\nimport styles from './index.module.less';\r\n\r\nclass Issue extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      loading: false,\r\n      visible: true,\r\n      detail: undefined,\r\n    };\r\n  }\r\n  async componentDidMount() {\r\n    this.setState({ loading: true, detail: undefined });\r\n    const { data } = await localForageService.getIssueInfo(this.props.info);\r\n    if (true !== this.state.loading) {\r\n      return;\r\n    }\r\n    this.setState({ loading: false, detail: data || null });\r\n    if (this.props.updateIssue && data && !this.props.info.read) {\r\n      this.props.updateIssue(this.props.info, { read: true });\r\n    }\r\n  }\r\n  componentWillUnmount() {\r\n    this.setState({ loading: false, detail: false });\r\n  }\r\n  onCancel() {\r\n    if (this.state.loading) {\r\n      return;\r\n    }\r\n    this.setState({ visible: false });\r\n    this.props.onCancle();\r\n  }\r\n  renderFavorite() {\r\n    if (!this.props.updateIssue) {\r\n      return null;\r\n    }\r\n    const onClick = () => this.props.updateIssue(this.props.info, { favorite: !this.props.info.favorite });\r\n    const data = this.props.info.favorite ? { text: '取消收藏', icon: 'heart' } : { text: '收藏', icon: 'heart-o' };\r\n    return (\r\n      <React.Fragment>\r\n        <Divider type=\"vertical\" />\r\n        <span onClick={onClick}>\r\n          <Icon type={data.icon} />\r\n          <span className={styles.favoriteText}>\r\n            &nbsp;&nbsp;\r\n            {data.text}\r\n          </span>\r\n        </span>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n  renderKeepUnread() {\r\n    if (!this.props.updateIssue) {\r\n      return null;\r\n    }\r\n    return (\r\n      <React.Fragment>\r\n        <Divider type=\"vertical\" />\r\n        <span className={styles.keepUnread} onClick={() => this.props.updateIssue(this.props.info, { read: false })}>\r\n          保持未读\r\n        </span>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n  render() {\r\n    const { info } = this.props;\r\n    return (\r\n      <Modal\r\n        className={styles.modal}\r\n        // style={{ top: 0, right: 0, height: '100%', paddingBottom: 0 }}\r\n        width=\"80%\"\r\n        // title={<a onClick={e => e.preventDefault()} href={`https://github.com/${info.owner}/${info.repo}/issues/${info.number}`}>{info.title}</a>}\r\n        title={<span className={styles.modalTitle}>{info.title}</span>}\r\n        visible={this.state.visible}\r\n        onCancel={() => this.onCancel()}\r\n        footer={null}\r\n        destroyOnClose\r\n        maskClosable\r\n      >\r\n        <div className={styles.body}>\r\n          <h1 className={styles.title}>{info.title}</h1>\r\n          <div className={styles.info}>\r\n            <a\r\n              href={`https://github.com/${info.owner}/${info.repo}/issues/${info.number}`}\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n            >\r\n              查看原文\r\n            </a>\r\n            <Divider type=\"vertical\" />\r\n            <Avatar className={styles.avatarUrl} size=\"small\" src={info.user.avatarUrl} />\r\n            <span className={styles.userName}>\r\n              &nbsp;&nbsp;\r\n              {info.user.name}\r\n            </span>\r\n            <Divider type=\"vertical\" />\r\n            {moment(info.createdAt).format('YYYY年M月D日')}\r\n            {this.renderFavorite()}\r\n            {this.renderKeepUnread()}\r\n          </div>\r\n          {undefined === this.state.detail && <Loading />}\r\n          {null === this.state.detail && (\r\n            <Alert message=\"加载失败\" description=\"获取文章详细信息失败，请检查网络\" type=\"error\" showIcon />\r\n          )}\r\n          {this.state.detail && <Marked context={this.state.detail.body} />}\r\n        </div>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nIssue.propTypes = {\r\n  info: PropTypes.object,\r\n};\r\n\r\nexport default Issue;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport { Icon, List, Avatar } from 'antd';\r\nimport Issue from './Issue';\r\nimport styles from './index.module.less';\r\n\r\n\r\nclass Issues extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selected: undefined,\r\n    };\r\n    // this.toggleFavorite = this.toggleFavorite.bind(this);\r\n    // this.keepUnread = this.keepUnread.bind(this);\r\n  }\r\n  async showIssueDetail(e, item) {\r\n    await this.setState({ selected: undefined });\r\n    console.log(item);\r\n    await this.setState({ selected: item });\r\n    // if (!item.read) {\r\n    //   this.props.updateIssue({ owner: item.owner, repo: item.repo, number: item.number, read: true });\r\n    // }\r\n  }\r\n  async hideIssueDetail() {\r\n    await this.setState({ selected: undefined });\r\n  }\r\n  updateIssue(item, info) {\r\n    this.props.updateIssue({ owner: item.owner, repo: item.repo, number: item.number, ...info });\r\n    const selected = this.state.selected;\r\n    if (selected &&\r\n      item.owner === selected.owner &&\r\n      item.repo === selected.repo &&\r\n      item.number === selected.number) {\r\n      this.setState({ selected: { ...selected, ...info } });\r\n    }\r\n  }\r\n  renderFavorite(item) {\r\n    if (!this.props.updateIssue) {\r\n      return null;\r\n    }\r\n    const onClick = () => this.updateIssue(item, { favorite: !item.favorite });\r\n    if (item.favorite) {\r\n      return <Icon title=\"取消收藏\" onClick={onClick} type=\"heart\" />;\r\n    } else {\r\n      return <Icon title=\"收藏\" onClick={onClick} type=\"heart-o\" />;\r\n    }\r\n  }\r\n  render() {\r\n    return (<React.Fragment>\r\n      <List\r\n        size=\"large\"\r\n        rowKey={record => `${record.owner}/${record.repo}/${record.number}`}\r\n        loading={this.props.loading}\r\n        className={styles.list}\r\n        dataSource={this.props.list}\r\n        pagination={false}\r\n        renderItem={item => <List.Item onClick={e => this.showIssueDetail(e, item)}>\r\n          <Avatar size=\"small\" src={item.user.avatarUrl} />\r\n          <div className={styles.user}>{item.user.name}</div>\r\n          <div className={item.read ? styles.title : styles.unreadTitle}>\r\n            <a onClick={e => e.preventDefault()} href={`https://github.com/${item.owner}/${item.repo}/issues/${item.number}`}>{item.title}</a>\r\n          </div>\r\n          <div className={styles.time}>{moment(item.createdAt).format('YYYY年M月D日')}</div>\r\n          <div className={styles.actions} onClick={e => e.stopPropagation()}>\r\n            {this.renderFavorite(item)}\r\n            <a href={`https://github.com/${item.owner}/${item.repo}/issues/${item.number}`} target=\"_blink\">\r\n              <Icon type=\"export\" />\r\n            </a>\r\n          </div>\r\n        </List.Item>}\r\n      />\r\n      {this.state.selected && <Issue\r\n        info={this.state.selected}\r\n        updateIssue={this.props.updateIssue && ((item, info) => this.updateIssue(item, info))}\r\n        onCancle={() => this.hideIssueDetail()}\r\n      />}\r\n    </React.Fragment>);\r\n  }\r\n}\r\n\r\nIssues.propTypes = {\r\n  list: PropTypes.array,\r\n  loading: PropTypes.bool,\r\n};\r\n\r\nexport default Issues;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"italic\":\"index_italic__1lfbk\",\"ellipsis\":\"index_ellipsis__XI-33\",\"ponter\":\"index_ponter__1AQGv\",\"pagination\":\"index_pagination__2b5QF\"};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'dva';\r\nimport queryString from 'query-string';\r\nimport { routerRedux } from 'dva/router';\r\nimport { Button, Card, Pagination } from 'antd';\r\nimport PageHeader from 'ant-design-pro/lib/PageHeader';\r\nimport PageBody from '../../components/PageBody';\r\nimport Issues from '../../components/Issues';\r\nimport styles from './index.module.less';\r\n\r\nclass Favorites extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onRefresh = this.onRefresh.bind(this);\r\n    this.onPageChange = this.onPageChange.bind(this);\r\n    this.updateIssue = this.updateIssue.bind(this);\r\n  }\r\n  onRefresh() {\r\n    this.props.dispatch(routerRedux.push({\r\n      pathname: this.props.location.pathname,\r\n      search: this.props.location.search,\r\n    }));\r\n  }\r\n  onPageChange(page) {\r\n    const parsed = queryString.parse(this.props.location.search);\r\n    this.props.dispatch(routerRedux.push({\r\n      pathname: this.props.location.pathname,\r\n      search: queryString.stringify({ ...parsed, page: (1 === page ? undefined : page) }),\r\n    }));\r\n  }\r\n  updateIssue(info) {\r\n    this.props.dispatch({ type: 'favorites/updateIssue', payload: info });\r\n  }\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <PageHeader\r\n          title=\"我的收藏\"\r\n          action={<Button type=\"primary\" onClick={this.onRefresh}>刷新</Button>}\r\n          breadcrumbList={[{ title: null }]}\r\n        />\r\n        <PageBody>\r\n          <Card bordered={false}>\r\n            <Issues list={this.props.list} loading={this.props.loading} updateIssue={this.updateIssue} />\r\n            <Pagination\r\n              className={styles.pagination}\r\n              current={this.props.page}\r\n              showQuickJumper\r\n              pageSize={this.props.pageSize}\r\n              total={this.props.total}\r\n              showTotal={t => `共 ${t} 项`}\r\n              onChange={this.onPageChange}\r\n            />\r\n          </Card>\r\n        </PageBody>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nFavorites.propTypes = {\r\n  repos: PropTypes.array,\r\n};\r\n\r\nexport default connect(state => ({\r\n  loading: state.favorites.loading,\r\n  list: state.favorites.list,\r\n  total: state.favorites.total,\r\n  page: state.favorites.page,\r\n  pageSize: state.favorites.pageSize,\r\n}))(Favorites);\r\n"],"sourceRoot":""}