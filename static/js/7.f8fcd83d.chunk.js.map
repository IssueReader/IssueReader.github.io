{"version":3,"sources":["routes/Discovery/index.js"],"names":["Discovery","value","match","length","this","props","dispatch","dva_router__WEBPACK_IMPORTED_MODULE_8__","push","pathname","concat","antd_lib_notification__WEBPACK_IMPORTED_MODULE_5___default","a","error","message","_this","react__WEBPACK_IMPORTED_MODULE_6___default","createElement","Fragment","ant_design_pro_lib_PageHeader__WEBPACK_IMPORTED_MODULE_9___default","title","antd_lib_input__WEBPACK_IMPORTED_MODULE_3___default","Search","placeholder","onSearch","enterButton","breadcrumbList","_components_PageBody__WEBPACK_IMPORTED_MODULE_10__","antd_lib_card__WEBPACK_IMPORTED_MODULE_1___default","bordered","PureComponent","__webpack_exports__","Object","dva__WEBPACK_IMPORTED_MODULE_7__","state","repos","app"],"mappings":"g/BASMA,kOACKC,GACP,GAAKA,EAAL,CAIA,IAAMC,EAAQD,EAAMC,MAAM,6CACrBA,GAAS,IAAMA,EAAMC,OAI1BC,KAAKC,MAAMC,SAASC,EAAA,YAAYC,MAC9BC,8BAAwBP,EAAM,GAA9B,KAAAQ,OAAoCR,EAAM,OAJ1CS,EAAAC,EAAaC,OAAQC,QAAS,4EAL9BH,EAAAC,EAAaC,OAAQC,QAAS,wGAYzB,IAAAC,EAAAX,KACP,OACEY,EAAAJ,EAAAK,cAACD,EAAAJ,EAAMM,SAAP,KACEF,EAAAJ,EAAAK,cAACE,EAAAP,GACCQ,MAAOJ,EAAAJ,EAAAK,cAAAI,EAAAT,EAAOU,QACZC,YAAY,8GACZC,SAAU,SAAAvB,GAAA,OAASc,EAAKS,SAASvB,IACjCwB,aAAA,IAEFC,iBAAmBN,MAAO,SAE5BJ,EAAAJ,EAAAK,cAACU,EAAA,EAAD,KACEX,EAAAJ,EAAAK,cAAAW,EAAAhB,GAAMiB,UAAU,GAAhB,wTA3Bcb,EAAAJ,EAAMkB,eAwC9BC,EAAA,QAAeC,OAAAC,EAAA,QAAAD,CAAQ,SAAAE,GAAA,OACrBC,MAAOD,EAAME,IAAID,QADnB,CAEInC","file":"static/js/7.f8fcd83d.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'dva';\r\nimport { routerRedux } from 'dva/router';\r\nimport { Card, Input, notification } from 'antd';\r\nimport PageHeader from 'ant-design-pro/lib/PageHeader';\r\nimport PageBody from '../../components/PageBody';\r\n// import styles from './index.module.less';\r\n\r\nclass Discovery extends React.PureComponent {\r\n  onSearch(value) {\r\n    if (!value) {\r\n      notification.error({ message: '请输入想订阅的仓库地址' });\r\n      return;\r\n    }\r\n    const match = value.match(/^https:\\/\\/github\\.com\\/([^/]+)\\/([^/]+)$/);\r\n    if (!match && 3 !== match.length) {\r\n      notification.error({ message: '仓库地址不合法，请检查' });\r\n      return;\r\n    }\r\n    this.props.dispatch(routerRedux.push({\r\n      pathname: `/discovery/${match[1]}/${match[2]}`,\r\n    }));\r\n  }\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <PageHeader\r\n          title={<Input.Search\r\n            placeholder=\"输入想订阅的仓库地址，如 https://github.com/lifesinger/blog\"\r\n            onSearch={value => this.onSearch(value)}\r\n            enterButton\r\n          />}\r\n          breadcrumbList={[{ title: null }]}\r\n        />\r\n        <PageBody>\r\n          <Card bordered={false}>\r\n            后续加入优质博客推荐功能，暂不支持\r\n          </Card>\r\n        </PageBody>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nDiscovery.propTypes = {\r\n  repos: PropTypes.array,\r\n};\r\n\r\nexport default connect(state => ({\r\n  repos: state.app.repos,\r\n}))(Discovery);\r\n"],"sourceRoot":""}