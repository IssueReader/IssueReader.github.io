{"version":3,"sources":["services/user.js","components/Loading/index.js","utils/sessionToken.js","utils/request.js","components/Loading/index.module.less","layouts/BasicLayout.module.less","index.js","services/localForage.js","utils/apolloClient.js","utils/graphql.js","utils/github.js","routes/Login/index.module.less","routes/Updating/index.js","routes/Login/index.js","routes/Mobile.js","common/router.js","layouts/BasicLayout.js","router.js","services/auth.js","models/app.js","utils/accessToken.js","routes/Updating/index.module.less"],"names":["__webpack_exports__","getAccessTokenByCode","_getAccessTokenByCode","Object","D_github_issue_reader_dva_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","D_github_issue_reader_dva_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","data","wrap","_context","prev","next","abrupt","request","method","body","JSON","stringify","stop","this","_x","apply","arguments","getUserInfo","_getUserInfo","_callee2","_context2","github","getWatching","_getWatching","_callee3","_context3","Loading","react__WEBPACK_IMPORTED_MODULE_2___default","createElement","className","styles","loading","antd_lib_icon__WEBPACK_IMPORTED_MODULE_1___default","type","utils_sessionToken","get","_get","asyncToGenerator","regenerator_default","token","localForage","getItem","sent","t0","set","sessionToken","setItem","remove","removeItem","parseText","response","text","parseJSON","Promise","resolve","parse","checkStatus","status","error","Error","statusText","url","opts","headers","defaults","objectSpread","Content-Type","SessionToken","getHeaders","options","assign","mode","fetch","then","catch","err","module","exports","italic","ellipsis","ponter","layout","header","logo","navBar","navExtra","navItem","activedNavItem","username","content","sider","siderRight","placehoder","subMenu","__webpack_require__","r","dva__WEBPACK_IMPORTED_MODULE_0__","dva__WEBPACK_IMPORTED_MODULE_0___default","n","history_createHashHistory__WEBPACK_IMPORTED_MODULE_1__","history_createHashHistory__WEBPACK_IMPORTED_MODULE_1___default","dva_loading__WEBPACK_IMPORTED_MODULE_2__","dva_loading__WEBPACK_IMPORTED_MODULE_2___default","redux_logger__WEBPACK_IMPORTED_MODULE_3__","app","dva","history","createHistory","use","createLoading","onAction","createLogger","model","require","default","router","start","clearDB","_ref","D_github_issue_reader_dva_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__","D_github_issue_reader_dva_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default","_ref2","key","defaultValue","list","_args2","length","undefined","_ref3","value","_x2","_x3","updateRepoInfo","_ref4","_callee4","repoInfo","repos","index","_context4","findIndex","it","owner","repo","push","D_github_issue_reader_dva_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","_x4","updateIssueList","_ref5","_callee5","issues","_context5","map","issue","number","sort","b","Date","createdAt","_x5","checkUser","_checkUser","_callee6","userInfo","_context6","login","_x6","getUpdateTime","_getUpdateTime","_callee7","utime","_context7","setUpdateTime","_setUpdateTime","_callee8","_context8","getTime","getRepos","_getRepos","_callee9","_context9","syncRepoInfo","_syncRepoInfo","_callee10","info","_info$data","_context10","getRepoInfo","errMsg","D_github_issue_reader_dva_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","_x7","addRepo","_addRepo","_callee11","_ref6","_info$data2","_context11","_x8","delRepo","_delRepo","_callee12","_ref7","_context12","splice","filter","favorite","_x9","updateRepo","_updateRepo","_callee13","_context13","_x10","getIssues","_getIssues","_callee14","limit","total","_args14","_context14","slice","Math","min","_getRepoInfo","_callee15","_ref8","respInfo","_context15","find","message","_x11","getIssueInfo","_getIssueInfo","_callee16","_context16","_x12","updateIssue","_updateIssue","_callee17","_context17","_x13","getFavoriteIssues","_getFavoriteIssues","_callee18","favoriteIssues","_args18","_context18","getApolloClient","accessToken","ApolloClient","uri","Accept","Authorization","concat","token_type","access_token","graphql","query","schema","client","resp","getClient","errorPolicy","parseUserInfo","avatarUrl","bio","name","user","organization","gql","_templateObject","_ref$team","team","_ref$filterAuthor","filterAuthor","totalCount","edges","_templateObject2","repository","node","author","cursor","_info$data$viewer$wat","_templateObject3","viewer","watching","issueCount","starCount","stargazers","watchCount","watchers","_templateObject4","container","card","title","subtitle","block","connect","state","percent","react_default","flex","progress_default","showInfo","strokeWidth","jump2authorize","window","location","replace","Login","card_default","src","alt","button_default","onClick","icon","size","React","PureComponent","Mobile","Exception_default","desc","actions","getAppRoutes","routerData","Component","dynamic","models","component","exact","path","render","props","getRoutes","e","bind","all","Header","Content","Sider","SiderMenu","pathname","match","selectedKeys","menu_default","defaultSelectedKeys","Item","icon_default","SubMenu","avatar_default","shape","disabled","BasicLayout","onUserMenuClick","_this","dispatch","routerRedux","onSiderMenuClick","_this2","_this$props","layout_default","href","target","rel","to","dropdown_default","overlay","Divider","width","BasicLayout_SiderMenu","style","overflow","from","setDefaultLoadingComponent","RouterConfig","locale_provider_default","locale","zhCN","Updating","layouts_BasicLayout","auth","getAccessToken","_getAccessToken","setAccessToken","_setAccessToken","removeAccessToken","_removeAccessToken","replaceState","searchObj","search","queryString","newSearch","namespace","subscriptions","setup","payload","listen","effects","init","put","select","call","config","UA","navigator","userAgent","device","_ref9","code","_ref10","objectWithoutProperties","userService","authService","_ref11","_ref12","_ref13","logout","_ref14","_ref15","loginSucceed","_ref16","_ref17","loginFaild","_ref18","_ref19","updateDB","_ref20","_ref21","i","l","localForageService","floor","subscribe","_ref22","_ref23","_ref24","notification_default","success","description","unsubscribe","_ref25","_ref26","updateRepos","_ref27","_ref28","reducers","save","action"],"mappings":"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","file":"static/js/main.fdfa2ce9.chunk.js","sourcesContent":["// import storage from '../utils/storage';\r\n// import resource from '../utils/resource';\r\nimport request from '../utils/request';\r\nimport github from '../utils/github';\r\n// import sessionToken from '../utils/sessionToken';\r\n\r\n// const user = () => {\r\n//   return resource('/user/:type/:owner/:repo/issues/:number');\r\n// };\r\n\r\n\r\nexport default {\r\n  async getAccessTokenByCode(data) {\r\n    return request('https://issuereaderapi.leanapp.cn/login', {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n    });\r\n    // return user().post({}, { code, state });\r\n  },\r\n  async getUserInfo() {\r\n    return github.getUserInfo();\r\n  },\r\n  async getWatching() {\r\n    return github.getWatching();\r\n    // return github.getWatching();\r\n  },\r\n  // async loginByToken(data) {\r\n  //   return user().post({}, data);\r\n  // },\r\n  // async login(data) {\r\n  //   return user().post({}, data);\r\n  // },\r\n  // async getRepos() {\r\n  //   return user().get({ type: 'repos' });\r\n  // },\r\n  // async getRepoInfo({ owner, repo }) {\r\n  //   return user().get({ type: 'repos', owner, repo });\r\n  // },\r\n  // async addRepo({ owner, repo }) {\r\n  //   return user().post({ type: 'repos' }, { owner, repo });\r\n  // },\r\n  // async delRepo({ owner, repo }) {\r\n  //   return user().remove({ type: 'repos' }, { owner, repo });\r\n  // },\r\n  // async getIssues() {\r\n  //   return user().get({ type: 'issues' });\r\n  // },\r\n  // async getFavorites() {\r\n  //   return user().get({ type: 'favorites' });\r\n  // },\r\n  // async markAsRead({ owner, repo, number }) {\r\n  //   return user().post({ type: 'repos', owner, repo, number });\r\n  // },\r\n  // async markAsFavorite({ owner, repo, number }) {\r\n  //   return user().post({ type: 'favorites' }, { owner, repo, number });\r\n  // },\r\n  // async removeFavorite({ owner, repo, number }) {\r\n  //   return user().remove({ type: 'favorites' }, { owner, repo, number });\r\n  // },\r\n};\r\n","import React from 'react';\r\nimport { Icon } from 'antd';\r\nimport styles from './index.module.less';\r\n\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div className={styles.loading}>\r\n      <Icon type=\"loading\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","// import storage from './storage';\r\nimport localForage from 'localforage';\r\nconst sessionTokenKey = 'sessionToken';\r\n\r\nexport default {\r\n  async get() {\r\n    try {\r\n      const token = await localForage.getItem(sessionTokenKey);\r\n      return token;\r\n    } catch (errMsg) {\r\n      return null;\r\n    }\r\n  },\r\n  set(sessionToken) {\r\n    return localForage.setItem(sessionTokenKey, sessionToken);\r\n  },\r\n  remove() {\r\n    return localForage.removeItem(sessionTokenKey);\r\n  },\r\n};\r\n","import fetch from 'dva/fetch';\r\nimport sessionToken from './sessionToken';\r\n\r\n\r\nfunction parseText(response) {\r\n  return response.text();\r\n}\r\n\r\nfunction parseJSON(text) {\r\n  return new Promise((resolve) => {\r\n    const res = '' === text ? {} : JSON.parse(text);\r\n    resolve(res);\r\n  });\r\n}\r\n\r\nfunction checkStatus(response) {\r\n  if (200 <= response.status && 300 > response.status) {\r\n    return response;\r\n  }\r\n\r\n  const error = new Error(response.statusText);\r\n  error.response = response;\r\n  throw error;\r\n}\r\n\r\nfunction getHeaders(defaults) {\r\n  const headers = {\r\n    'Content-Type': 'application/json',\r\n    ...defaults,\r\n  };\r\n  const token = sessionToken.get();\r\n  if (token) {\r\n    return { ...headers, SessionToken: token };\r\n  } else {\r\n    return headers;\r\n  }\r\n}\r\n\r\n/**\r\n * Requests a URL, returning a promise.\r\n *\r\n * @param  {string} url       The URL we want to request\r\n * @param  {object} [options] The options we want to pass to \"fetch\"\r\n * @return {object}           An object containing either \"data\" or \"err\"\r\n */\r\nexport default function request(url, opts) {\r\n  const headers = getHeaders(opts.headers);\r\n  const options = Object.assign({}, {\r\n    method: 'GET',\r\n    mode: 'cors',\r\n    headers,\r\n  }, opts);\r\n\r\n  return fetch(url, options)\r\n    .then(checkStatus)\r\n    .then(parseText)\r\n    .then(parseJSON)\r\n    .then(data => ({ data }))\r\n    .catch(err => ({ err }));\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"italic\":\"index_italic__2xJNB\",\"ellipsis\":\"index_ellipsis__1TZNe\",\"ponter\":\"index_ponter__i8VfP\",\"loading\":\"index_loading__3DqDV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"italic\":\"BasicLayout_italic__6g-CS\",\"ellipsis\":\"BasicLayout_ellipsis__1QAdS\",\"ponter\":\"BasicLayout_ponter__1nMp7\",\"layout\":\"BasicLayout_layout__Re7i2\",\"header\":\"BasicLayout_header__m3HNr\",\"logo\":\"BasicLayout_logo__1hjtU\",\"navBar\":\"BasicLayout_navBar__2d6E9\",\"navExtra\":\"BasicLayout_navExtra__2FGUT\",\"navItem\":\"BasicLayout_navItem__1dtlA\",\"activedNavItem\":\"BasicLayout_activedNavItem__3O8dm\",\"username\":\"BasicLayout_username__wvt6T\",\"content\":\"BasicLayout_content__3xzDJ\",\"sider\":\"BasicLayout_sider__303Xa\",\"siderRight\":\"BasicLayout_siderRight__3rdat\",\"placehoder\":\"BasicLayout_placehoder__7QGFc\",\"subMenu\":\"BasicLayout_subMenu__3JBtC\"};","import dva from 'dva';\r\nimport createHistory from 'history/createHashHistory';\r\nimport createLoading from 'dva-loading';\r\nimport { createLogger } from 'redux-logger';\r\n// import 'antd/dist/antd.less';\r\nimport 'ant-design-pro/dist/ant-design-pro.css';\r\n\r\nimport './index.less';\r\n\r\n// 1. Initialize\r\nconst app = dva({\r\n  history: createHistory(),\r\n});\r\n\r\n// 2. Plugins\r\n// app.use({});\r\napp.use(createLoading());\r\napp.use({ onAction: createLogger() });\r\n\r\n// 3. Model\r\napp.model(require('./models/app').default);\r\n// app.model(require('./models/repo').default);\r\n// app.model(require('./models/issues').default);\r\n\r\n// 4. Router\r\napp.router(require('./router').default);\r\n\r\n// 5. Start\r\napp.start('#root');\r\n","import localForage from 'localforage';\r\nimport github from '../utils/github';\r\n\r\n\r\nconst clearDB = async () => {\r\n  await localForage.setItem('repos', []);\r\n  await localForage.setItem('issues', []);\r\n  await localForage.setItem('favorites', []);\r\n  await localForage.setItem('read', []);\r\n  await localForage.setItem('utime', 0);\r\n};\r\n\r\nconst getItem = async (key, defaultValue = []) => {\r\n  try {\r\n    const list = await localForage.getItem(key);\r\n    return list || defaultValue;\r\n  } catch (errMsg) {\r\n    return defaultValue;\r\n  }\r\n};\r\nconst setItem = async (key, value) => {\r\n  try {\r\n    await localForage.setItem(key, value);\r\n  } catch (errMsg) {\r\n\r\n  }\r\n  return value;\r\n};\r\n\r\n\r\nconst updateRepoInfo = async (repoInfo) => {\r\n  const repos = await getItem('repos');\r\n  const index = repos.findIndex(it => it.owner === repoInfo.owner && it.repo === repoInfo.repo);\r\n  if (-1 === index) {\r\n    repos.push(repoInfo);\r\n  } else {\r\n    repos[index] = { ...repos[index], ...repoInfo };\r\n  }\r\n  await setItem('repos', repos);\r\n};\r\nconst updateIssueList = async (list) => {\r\n  const issues = await getItem('issues');\r\n  list.map((issue) => {\r\n    const index = issues.findIndex(it => it.owner === issue.owner && it.repo === issue.repo && it.number === issue.number);\r\n    if (-1 === index) {\r\n      issues.push(issue);\r\n    } else {\r\n      issues[index] = { ...issues[index], ...issue };\r\n    }\r\n    return issue;\r\n  });\r\n  issues.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\r\n  await setItem('issues', issues);\r\n};\r\n\r\n\r\nexport default {\r\n  async checkUser(userInfo) {\r\n    try {\r\n      const userId = await localForage.getItem('userId');\r\n      if (userId !== userInfo.login) {\r\n        await clearDB();\r\n        await localForage.setItem('userId', userInfo.login);\r\n      }\r\n      return true;\r\n    } catch (errMsg) {\r\n      return false;\r\n    }\r\n  },\r\n  async getUpdateTime() {\r\n    try {\r\n      const utime = await localForage.getItem('utime');\r\n      return utime;\r\n    } catch (errMsg) {\r\n      return 0;\r\n    }\r\n  },\r\n  async setUpdateTime() {\r\n    try {\r\n      const utime = new Date().getTime();\r\n      await localForage.setItem('utime', utime);\r\n      return utime;\r\n    } catch (errMsg) {\r\n      return 0;\r\n    }\r\n  },\r\n  async getRepos() {\r\n    return getItem('repos');\r\n  },\r\n  async syncRepoInfo(repo) {\r\n    if (!repo.owner || !repo.repo) {\r\n      return { data: repo };\r\n    }\r\n    const info = await github.getRepoInfo(repo);\r\n    if (info.errMsg) {\r\n      return info;\r\n    }\r\n    const { list, ...repoInfo } = info.data;\r\n    await updateRepoInfo(repoInfo);\r\n    await updateIssueList(list);\r\n    return repoInfo;\r\n  },\r\n  async addRepo({ owner, repo }) {\r\n    const info = await github.getRepoInfo({ owner, repo });\r\n    if (info.errMsg) {\r\n      return info;\r\n    }\r\n    const { list, ...repoInfo } = info.data;\r\n    await updateRepoInfo(repoInfo);\r\n    await updateIssueList(list);\r\n    return info;\r\n  },\r\n  async delRepo({ owner, repo }) {\r\n    const repos = await getItem('repos');\r\n    const index = repos.findIndex(it => it.owner === owner && it.repo === repo);\r\n    if (-1 !== index) {\r\n      repos.splice(index, 1);\r\n      await setItem('repos', repos);\r\n    }\r\n    const issues = await getItem('issues');\r\n    const list = issues.filter(it => (it.owner !== owner || it.repo !== repo || !it.favorite));\r\n    if (list.length < issues.length) {\r\n      await setItem('issues', list);\r\n    }\r\n    return { owner, repo };\r\n  },\r\n  async updateRepo(repoInfo) {\r\n    await updateRepoInfo(repoInfo);\r\n    return repoInfo;\r\n  },\r\n  async getIssues(start = 0, limit = 100) {\r\n    const issues = await getItem('issues');\r\n    const total = issues.length;\r\n    const list = issues.slice(start, Math.min(start + limit, total));\r\n    return { data: { list, total, start } };\r\n  },\r\n  async getRepoInfo({ owner, repo }) {\r\n    // const [repos, issues] =  await Promise.all(getItem('repos'), getItem('issues'));\r\n    const repos = await getItem('repos');\r\n    const respInfo = repos.find(it => owner === it.owner && repo === it.repo);\r\n    if (!respInfo) {\r\n      return { errMsg: { response: { status: '404', message: 'resp not found' } } };\r\n    }\r\n    const issues = await getItem('issues');\r\n    const list = issues.filter(it => owner === it.owner && repo === it.repo);\r\n    return { data: { ...respInfo, list } };\r\n  },\r\n  async getIssueInfo(data) {\r\n    return github.getIssueInfo(data);\r\n  },\r\n  async updateIssue(info) {\r\n    const issues = await getItem('issues');\r\n    const index = issues.findIndex(it => it.owner === info.owner && it.repo === info.repo && it.number === info.number);\r\n    if (-1 !== index) {\r\n      issues[index] = { ...issues[index], ...info };\r\n      await setItem('issues', issues);\r\n    }\r\n  },\r\n  async getFavoriteIssues(start = 0, limit = 100) {\r\n    const issues = await getItem('issues');\r\n    const favoriteIssues = issues.filter(it => it && it.favorite);\r\n    const total = favoriteIssues.length;\r\n    const list = favoriteIssues.slice(start, Math.min(start + limit, total));\r\n    return { data: { list, total, start } };\r\n  },\r\n};\r\n","import ApolloClient from 'apollo-boost';\r\n\r\nimport accessToken from './accessToken';\r\n\r\n\r\nconst getApolloClient = async () => {\r\n  const token = await accessToken.get();\r\n  if (!token) {\r\n    return null;\r\n  }\r\n  return new ApolloClient({\r\n    uri: 'https://api.github.com/graphql',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Accept: 'application/json',\r\n      Authorization: `${token.token_type} ${token.access_token}`,\r\n    },\r\n    // onError: ({ graphQLErrors, response }) => {\r\n    //   debugger;\r\n    //   return response;\r\n    // }\r\n  });\r\n};\r\n\r\nexport default getApolloClient;\r\n","// import gql from 'graphql-tag';\r\nimport getClient from './apolloClient';\r\n\r\nconst query = async (schema) => {\r\n  const client = await getClient();\r\n  if (!client) {\r\n    return { errMsg: { message: 'get graphql client failed!' } };\r\n  }\r\n  try {\r\n    const resp = await client.query({ query: schema, errorPolicy: 'ignore' });\r\n    return { data: resp.data };\r\n  } catch (errMsg) {\r\n    return { errMsg };\r\n  }\r\n};\r\n\r\nexport default {\r\n  query,\r\n};\r\n","import gql from 'graphql-tag';\r\nimport graphql from './graphql';\r\n\r\nconst parseUserInfo = (info, owner) => {\r\n  const userInfo = { avatarUrl: '', bio: '', name: owner };\r\n  if (!info || !info.data) {\r\n    return userInfo;\r\n  }\r\n  if (info.data.user) {\r\n    return info.data.user;\r\n  } else if (info.data.organization) {\r\n    info.data.organization.bio = '';\r\n    return info.data.organization;\r\n  } else {\r\n    return userInfo;\r\n  }\r\n};\r\n\r\nexport default {\r\n  getUserInfo() {\r\n    return graphql.query(gql`query {\r\n      viewer {\r\n        login\r\n        avatarUrl\r\n        name\r\n        bio\r\n      }\r\n    }`);\r\n  },\r\n  async getRepoInfo({ owner, repo, team = false, filterAuthor = true }) {\r\n    const info = await graphql.query(gql`query {\r\n      repository(owner: \"${owner}\", name: \"${repo}\") {\r\n        issues(last : 100, states:OPEN, orderBy:{field:CREATED_AT, direction:DESC}){\r\n          totalCount\r\n          edges{\r\n            node{\r\n              title\r\n              number\r\n              createdAt\r\n              updatedAt\r\n              author{\r\n                login\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      user(login: \"${owner}\"){\r\n        avatarUrl\r\n        bio\r\n        name\r\n      }\r\n    }`);\r\n    if (info.errMsg) {\r\n      return info;\r\n    }\r\n    const user = parseUserInfo(info, owner);\r\n    const issues = info && info.data && info.data.repository && info.data.repository.issues;\r\n    const totalCount = (issues && issues.totalCount) || 0;\r\n    const edges = (issues && issues.edges) || [];\r\n    // debugger;\r\n    const data = {\r\n      owner,\r\n      repo,\r\n      totalCount: totalCount,\r\n      list: edges.filter(it => true === team || false === filterAuthor || (it.node.author && it.node.author.login === owner)).map((it) => {\r\n        return { owner, repo, ...it.node, user };\r\n      }),\r\n      user,\r\n    };\r\n    return { data };\r\n  },\r\n  async getWatching(cursor) {\r\n    const info = await graphql.query(gql`query {\r\n      viewer {\r\n        watching (first: 100${cursor ? `, after: \"${cursor}\"` : ''}){\r\n          totalCount\r\n          edges{\r\n            cursor\r\n            node{\r\n              owner {\r\n                login\r\n                avatarUrl\r\n              }\r\n              name\r\n              issues (states:OPEN){\r\n                totalCount\r\n              }\r\n              stargazers {\r\n                totalCount\r\n              }\r\n              watchers{\r\n                totalCount\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }`);\r\n    if (info.errMsg) {\r\n      return info;\r\n    }\r\n    const { totalCount, edges } = info.data.viewer.watching;\r\n    const data = {\r\n      totalCount,\r\n      list: edges.map((it) => {\r\n        return {\r\n          cursor: it.cursor,\r\n          owner: it.node.owner.login,\r\n          avatarUrl: it.node.owner.avatarUrl,\r\n          repo: it.node.name,\r\n          issueCount: it.node.issues.totalCount,\r\n          starCount: it.node.stargazers.totalCount,\r\n          watchCount: it.node.watchers.totalCount,\r\n        };\r\n      }),\r\n    };\r\n    return { data };\r\n  },\r\n  async getIssueInfo({ owner, repo, number }) {\r\n    const info = await graphql.query(gql`query {\r\n      repository(owner: \"${owner}\", name: \"${repo}\") {\r\n        issue(number:${number}){\r\n          body\r\n        }\r\n      }\r\n    }`);\r\n    if (info.errMsg) {\r\n      return info;\r\n    }\r\n    const data = {\r\n      owner,\r\n      repo,\r\n      number,\r\n      body: info.data.repository.issue.body,\r\n    };\r\n    return { data };\r\n  },\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"italic\":\"index_italic__3W7_N\",\"ellipsis\":\"index_ellipsis__TsyIL\",\"ponter\":\"index_ponter__3RR4f\",\"container\":\"index_container__2J-r9\",\"card\":\"index_card__X0dPJ\",\"logo\":\"index_logo__3_1sN\",\"title\":\"index_title__STexD\",\"subtitle\":\"index_subtitle__3UBjH\",\"block\":\"index_block__31yfx\"};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'dva';\r\nimport { Progress } from 'antd';\r\nimport styles from './index.module.less';\r\n\r\n\r\nconst Updating = ({ percent }) => {\r\n  return (<div className={styles.flex}>\r\n    <div className={styles.loading}>\r\n      <div className={styles.text}>loading</div>\r\n      <div className={styles.percent}>{percent}%</div>\r\n      <Progress percent={percent} showInfo={false} strokeWidth={1} status=\"active\" />\r\n    </div>\r\n  </div>);\r\n};\r\n\r\nUpdating.propTypes = {\r\n  percent: PropTypes.number,\r\n};\r\n\r\nexport default connect(state => ({\r\n  percent: state.app.percent,\r\n}))(Updating);\r\n","import React from 'react';\r\n// import PropTypes from 'prop-types';\r\n// import { connect } from 'dva';\r\n// import moment from 'moment';\r\nimport { Card, Button } from 'antd';\r\n// import PageHeader from 'ant-design-pro/lib/PageHeader';\r\n// import { MarkdownPreview } from 'react-marked-markdown';\r\n// import Ellipsis from 'ant-design-pro/lib/Ellipsis';\r\n// import Loading from '../Loading';\r\n// import Issue from '../Issue';\r\n\r\nimport styles from './index.module.less';\r\n\r\nconst jump2authorize = () => {\r\n  window.location.replace('https://github.com/login/oauth/authorize?client_id=e3fcd5f1d9cfd0d5aaaa&redirect_uri=https%3A%2F%2Fissuereader.github.io%2F&scope=repo&state=github');\r\n};\r\n\r\nclass Login extends React.PureComponent {\r\n  // constructor(props) {\r\n  //   super(props);\r\n  //   // this.state = {\r\n  //   //   opened: undefined,\r\n  //   // };\r\n  //   this.login = this.login.bind(this);\r\n  //   // this.toggleFavorite = this.toggleFavorite.bind(this);\r\n  // }\r\n  render() {\r\n    return (\r\n      <div className={styles.container}>\r\n        <Card className={styles.card}>\r\n          <img className={styles.logo} src=\"./logo128x128.png\" alt=\"Github Iussue Blog Reader\" />\r\n          <div className={styles.title}>Iussue Reader</div>\r\n          <div className={styles.subtitle}>Github Iussue Blog Reader</div>\r\n          <Button className={styles.block} onClick={jump2authorize} type=\"primary\" icon=\"github\" size=\"large\">Github </Button>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Login.propTypes = {\r\n//   issues: PropTypes.array,\r\n//   dispatch: PropTypes.func,\r\n// };\r\n\r\nexport default Login;\r\n","import React from 'react';\r\n// import { connect } from 'dva';\r\n// import { Icon } from 'antd';\r\nimport Exception from 'ant-design-pro/lib/Exception';\r\n\r\n\r\nconst Mobile = () => {\r\n  return <Exception type=\"500\" title=\"\" desc=\"\" actions={[]} />;\r\n};\r\n\r\n// function mapStateToProps(state) {\r\n//   return { ...state.client };\r\n// }\r\n\r\n// export default Show;\r\nexport default Mobile;\r\n","import React from 'react';\r\nimport dynamic from 'dva/dynamic';\r\nimport { Route } from 'dva/router';\r\n\r\n\r\nconst getRoutes = (routerData, app) => {\r\n  const Routes = routerData.map((it) => {\r\n    // debugger;\r\n    const Component = dynamic({ app, models: it.models, component: it.component });\r\n    const exact = false !== it.exact;\r\n    return (\r\n      <Route key={it.path} path={it.path} exact={exact} render={props => <Component {...props} app={app} />} />\r\n    );\r\n  });\r\n  return Routes;\r\n};\r\n\r\nconst getRouterDate = () => {\r\n  return [{\r\n    path: '/all',\r\n    key: 'all',\r\n    models: () => [\r\n      import('../models/all'),\r\n    ],\r\n    component: () => import('../routes/All'),\r\n  }, {\r\n    path: '/favorites',\r\n    key: 'favorites',\r\n    models: () => [\r\n      import('../models/favorites'),\r\n    ],\r\n    component: () => import('../routes/Favorites'),\r\n  }, {\r\n    path: '/discovery',\r\n    key: 'discovery',\r\n    models: () => [],\r\n    component: () => import('../routes/Discovery'),\r\n  }, {\r\n    path: '/discovery/:owner/:repo',\r\n    key: 'repoinfo',\r\n    models: () => [],\r\n    component: () => import('../routes/RepoInfo'),\r\n  }, {\r\n    path: '/repos/:owner/:repo',\r\n    key: 'repo',\r\n    models: () => [],\r\n    component: () => import('../routes/Repo'),\r\n  }, {\r\n    path: '/user/profile',\r\n    key: 'profile',\r\n    models: () => [],\r\n    component: () => import('../routes/Profile'),\r\n  }, {\r\n    path: '/user/watching',\r\n    key: 'watching',\r\n    models: () => [\r\n      import('../models/watching'),\r\n    ],\r\n    component: () => import('../routes/Watching'),\r\n  }, {\r\n    path: '/search',\r\n    key: 'search',\r\n    models: () => [],\r\n    component: () => import('../routes/Search'),\r\n  }];\r\n};\r\n\r\nconst getAppRoutes = (app) => {\r\n  return getRoutes(getRouterDate(), app);\r\n};\r\n\r\nexport default getAppRoutes;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'dva';\r\nimport { Switch, Redirect, routerRedux, Link } from 'dva/router';\r\nimport { Layout, Menu, Icon, Avatar, Dropdown } from 'antd';\r\n// import HeaderSearch from 'ant-design-pro/lib/HeaderSearch';\r\nimport getAppRoutes from '../common/router';\r\n// import All from './All';\r\n// import Discovery from './Discovery';\r\n// import RepoInfo from './RepoInfo';\r\n// import Repo from './Repo';\r\n// import Favorites from './Favorites';\r\n// import Profile from './Profile';\r\n// import Watching from './Watching';\r\n// import Search from './Search';\r\nimport styles from './BasicLayout.module.less';\r\n\r\n\r\nconst { Header, Content, Sider } = Layout;\r\nconst SiderMenu = ({\r\n  pathname,\r\n  repos,\r\n  onClick,\r\n}) => {\r\n  if (pathname.match(/^\\/user\\/.*/)) {\r\n    const selectedKeys = [pathname];\r\n    return (\r\n      <Menu\r\n        defaultSelectedKeys={['/user/profile']}\r\n        selectedKeys={selectedKeys}\r\n        mode=\"inline\"\r\n        onClick={onClick}\r\n      >\r\n        <Menu.Item key=\"/user/profile\">\r\n          <Icon type=\"user\" />\r\n          <span>&nbsp;</span>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"/user/watching\">\r\n          <Icon type=\"github\" />\r\n          <span>&nbsp;</span>\r\n        </Menu.Item>\r\n      </Menu>\r\n    );\r\n  } else if (!pathname.match(/^\\/search(\\/.*)?/)) {\r\n    const selectedKeys = [];\r\n    if (pathname.match(/^\\/repos\\/.*/)) {\r\n      selectedKeys.push('/repos', pathname);\r\n    } else if (pathname.match(/^\\/discovery\\/.*/)) {\r\n      selectedKeys.push('/discovery');\r\n    } else {\r\n      selectedKeys.push(pathname);\r\n    }\r\n    // const selectedKeys = pathname.match(/^\\/repos\\/.*/) ? ['repos', pathname] : [pathname];\r\n    return (\r\n      <Menu\r\n        defaultSelectedKeys={['/all']}\r\n        // defaultOpenKeys={['/repos']}\r\n        selectedKeys={selectedKeys}\r\n        mode=\"inline\"\r\n        onClick={onClick}\r\n      >\r\n        <Menu.Item key=\"/all\"></Menu.Item>\r\n        <Menu.SubMenu key=\"/repos\" title=\"\" className={styles.subMenu}>\r\n          {repos && repos.map(it => it && <Menu.Item key={`/repos/${it.owner}/${it.repo}`}>\r\n            {it.user && <Avatar size=\"small\" shape=\"square\" src={it.user.avatarUrl} />}\r\n            &nbsp;{it.owner}/{it.repo}\r\n          </Menu.Item>)}\r\n          {(!repos || 0 === repos.length) && <Menu.Item key=\"no-data\" disabled></Menu.Item>}\r\n        </Menu.SubMenu>\r\n        <Menu.Item key=\"/favorites\"></Menu.Item>\r\n        <Menu.Item key=\"/discovery\"></Menu.Item>\r\n      </Menu>\r\n    );\r\n  } else {\r\n    const selectedKeys = [pathname];\r\n    return (\r\n      <Menu\r\n        defaultSelectedKeys={['/search']}\r\n        mode=\"inline\"\r\n        selectedKeys={selectedKeys}\r\n        // theme=\"dark\"\r\n        onClick={onClick}\r\n      >\r\n        <Menu.Item key=\"/search\"></Menu.Item>\r\n      </Menu>\r\n    );\r\n  }\r\n};\r\n\r\n\r\nclass BasicLayout extends React.PureComponent {\r\n  // constructor(props) {\r\n  //   super(props);\r\n\r\n  //   this.handleClick = this.handleClick.bind(this);\r\n  // }\r\n  onUserMenuClick = ({ key }) => {\r\n    if ('logout' === key) {\r\n      this.props.dispatch({ type: 'app/logout' });\r\n    } else {\r\n      this.props.dispatch(routerRedux.push(key));\r\n    }\r\n  }\r\n\r\n  onSiderMenuClick = ({ key }) => {\r\n    this.props.dispatch(routerRedux.push(key));\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      app,\r\n      location,\r\n      userInfo,\r\n      repos,\r\n    } = this.props;\r\n\r\n    // const link = getDefaultLink(repos);\r\n\r\n    return (\r\n      <Layout className={styles.layout}>\r\n        <Header className={styles.header}>\r\n          <a className={styles.logo} href=\"https://github.com/IssueReader/IssueReader.github.io\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n            <img alt=\"IssueReader\" src=\"/logo128x128.png\" />\r\n          </a>\r\n          <div className={styles.navBar}>\r\n            <Link to=\"/all\">\r\n              <Icon type=\"home\" />\r\n              &nbsp;&nbsp;\r\n            </Link>\r\n          </div>\r\n          <div className={styles.navExtra}>\r\n            {/* <div className={styles.navItem}>\r\n              <HeaderSearch\r\n                placeholder=\"\"\r\n                dataSource={['', '', '']}\r\n                onSearch={(value) => {\r\n                  console.log('input', value); // eslint-disable-line\r\n                }}\r\n                onPressEnter={(value) => {\r\n                  console.log('enter', value); // eslint-disable-line\r\n                }}\r\n              />\r\n            </div> */}\r\n            {/* <div className={styles.navItem}>\r\n              <Icon type=\"check-square-o\" />\r\n              <span>&nbsp;Mark All as Read</span>\r\n            </div> */}\r\n            <div className={styles.navItem} onClick={() => this.props.dispatch(routerRedux.push('/discovery'))}>\r\n              <Icon type=\"plus\" />\r\n              <span>&nbsp;</span>\r\n            </div>\r\n            <a className={styles.navItem} href=\"https://github.com/IssueReader/IssueReader.github.io\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n              <Icon type=\"github\" />\r\n              <span>&nbsp;Star on Github</span>\r\n            </a>\r\n            <Dropdown\r\n              overlay={\r\n                <Menu onClick={this.onUserMenuClick}>\r\n                  <Menu.Item key=\"/user/profile\">\r\n                    <Icon type=\"user\" />\r\n                    <span>&nbsp;</span>\r\n                  </Menu.Item>\r\n                  <Menu.Item key=\"/user/watching\">\r\n                    <Icon type=\"github\" />\r\n                    <span>&nbsp;</span>\r\n                  </Menu.Item>\r\n                  <Menu.Divider />\r\n                  <Menu.Item key=\"logout\">\r\n                    <Icon type=\"logout\" />\r\n                    <span>&nbsp;</span>\r\n                  </Menu.Item>\r\n                </Menu>\r\n              }\r\n            >\r\n              <div className={styles.navItem}>\r\n                <Avatar size=\"small\" src={userInfo.avatarUrl} />\r\n                <span className={styles.username}>&nbsp;{userInfo.name}</span>\r\n              </div>\r\n            </Dropdown>\r\n          </div>\r\n        </Header>\r\n        <Content className={styles.content}>\r\n          <Layout>\r\n            <Sider className={styles.sider} width=\"240\">\r\n              <SiderMenu pathname={location.pathname} repos={repos} onClick={this.onSiderMenuClick} />\r\n              <div className={styles.placehoder} />\r\n            </Sider>\r\n            <Layout className={styles.siderRight}>\r\n              <Content style={{ overflow: 'initial' }}>\r\n                <Switch>\r\n                  {getAppRoutes(app)}\r\n                  <Redirect push from=\"*\" to=\"/all\" />\r\n                </Switch>\r\n              </Content>\r\n            </Layout>\r\n          </Layout>\r\n        </Content>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nBasicLayout.propTypes = {\r\n  repos: PropTypes.array,\r\n  // issues: PropTypes.array,\r\n  dispatch: PropTypes.func,\r\n};\r\n\r\nexport default connect(state => ({\r\n  userInfo: state.app.userInfo,\r\n  repos: state.app.repos,\r\n}))(BasicLayout);\r\n","import React from 'react';\r\nimport { Router, Route, Switch } from 'dva/router';\r\nimport dynamic from 'dva/dynamic';\r\nimport { LocaleProvider } from 'antd';\r\nimport zhCN from 'antd/lib/locale-provider/zh_CN';\r\nimport Loading from './components/Loading';\r\nimport Updating from './routes/Updating';\r\nimport Login from './routes/Login';\r\nimport Mobile from './routes/Mobile';\r\nimport BasicLayout from './layouts/BasicLayout';\r\n\r\n\r\ndynamic.setDefaultLoadingComponent(() => {\r\n  return <Loading />;\r\n});\r\n\r\nfunction RouterConfig({ history, app }) {\r\n  return (\r\n    <LocaleProvider locale={zhCN}>\r\n      <Router history={history}>\r\n        <Switch>\r\n          <Route path=\"/\" exact component={Updating} />\r\n          <Route path=\"/login\" exact component={Login} />\r\n          <Route path=\"/mobile\" exact component={Mobile} />\r\n          <Route path=\"(.*)\" render={props => <BasicLayout {...props} app={app} />} />\r\n        </Switch>\r\n      </Router>\r\n    </LocaleProvider>\r\n  );\r\n}\r\n\r\nexport default RouterConfig;\r\n","import accessToken from '../utils/accessToken';\r\n\r\nexport default {\r\n  async getAccessToken() {\r\n    return accessToken.get();\r\n  },\r\n  async setAccessToken(token) {\r\n    return accessToken.set(token);\r\n  },\r\n  async removeAccessToken() {\r\n    return accessToken.remove();\r\n  },\r\n};\r\n","// import React from 'react';\r\nimport { routerRedux } from 'dva/router';\r\nimport queryString from 'query-string';\r\nimport UA from 'ua-device';\r\nimport localForage from 'localforage';\r\nimport { notification } from 'antd';\r\nimport userService from '../services/user';\r\nimport authService from '../services/auth';\r\nimport localForageService from '../services/localForage';\r\n\r\n\r\nconst replaceState = (searchObj) => {\r\n  const search = queryString.stringify(searchObj);\r\n  const newSearch = search ? `?${search}` : '';\r\n  const href = window.location.href.replace(/^([^?#]+)(\\?[^#]+)(#.*)?/, `$1${newSearch}$3`);\r\n  window.history.replaceState({}, '', href);\r\n};\r\n\r\nexport default {\r\n\r\n  namespace: 'app',\r\n\r\n  state: {\r\n    repos: undefined,\r\n    userInfo: undefined,\r\n    percent: 0,\r\n    status: 'active',\r\n  },\r\n\r\n  subscriptions: {\r\n    setup({ dispatch, history }) {  // eslint-disable-line\r\n      dispatch({ type: 'init', payload: history.location });\r\n      return history.listen(({ pathname, search }) => {\r\n        if ('/' === pathname) {\r\n          return dispatch({ type: 'loading', payload: { pathname, search } });\r\n        }\r\n      });\r\n    },\r\n  },\r\n\r\n  effects: {\r\n    *init({ payload }, { call, put, select }) {  // eslint-disable-line\r\n      localForage.config({ name: 'issue-reader' });\r\n      const { userInfo } = yield select(state => state.app);\r\n      if ('/' === payload.pathname || '/login' === payload.pathname || undefined !== userInfo) {\r\n        return;\r\n      }\r\n      const from = 'mobile' === payload.pathname ? '/all' : payload.pathname;\r\n      const search = queryString.stringify(Object.assign({ from }, queryString.parse(payload.search)));\r\n      yield put(routerRedux.replace({\r\n        pathname: '/',\r\n        search: `?${search}`,\r\n      }));\r\n    },\r\n    *loading({ payload }, { put }) {\r\n      // debugger;  // eslint-disable-line\r\n      const ua = new UA(window.navigator.userAgent);\r\n      if ('mobile' === ua.device.type) {\r\n        yield put({ type: 'save', payload: { userInfo: null } });\r\n        return yield put(routerRedux.replace('/mobile'));\r\n      }\r\n      const search = queryString.parse(window.location.search || '');\r\n      // const search = queryString.parse(payload.search);\r\n      const token = yield put.resolve({ type: 'getAccessToken', payload: search });\r\n      if (token) {\r\n        const userInfo = yield put.resolve({ type: 'getUserInfo', payload: token });\r\n        if (userInfo) {\r\n          return yield put({ type: 'loginSucceed', payload: { userInfo, ...payload } });\r\n        }\r\n      }\r\n      return yield put({ type: 'loginFaild' });\r\n    },\r\n    *getAccessToken({ payload }, { put, call }) {  // eslint-disable-line\r\n      // debugger;  // eslint-disable-line\r\n      const { code, state, ...search } = payload;\r\n      if (code && state) {\r\n        replaceState(search);\r\n        const { data } = yield call(userService.getAccessTokenByCode, { code, state });\r\n        if (data) {\r\n          yield call(authService.setAccessToken, data);\r\n        }\r\n        return data || null;\r\n      }\r\n      const token = yield call(authService.getAccessToken);\r\n      return token || null;\r\n    },\r\n    *getUserInfo({ payload }, { put, call }) {  // eslint-disable-line\r\n      // debugger;  // eslint-disable-line\r\n      const { data } = yield call(userService.getUserInfo, payload);\r\n      return (data && data.viewer) || null;\r\n    },\r\n    *logout({ payload }, { put, call }) {  // eslint-disable-line\r\n      yield call(authService.removeAccessToken);\r\n      yield put({ type: 'save', payload: { userInfo: null } });\r\n      yield put(routerRedux.replace('/login'));\r\n    },\r\n    *loginSucceed({ payload }, { put, call }) {  // eslint-disable-line\r\n      yield put({ type: 'save', payload: { userInfo: payload.userInfo } });\r\n      const repos = yield put.resolve({ type: 'updateDB', payload: payload.userInfo });\r\n      if (repos && 0 < repos.length) {\r\n        yield put(routerRedux.replace('/all'));\r\n      } else {\r\n        yield put(routerRedux.replace('/user/watching'));\r\n      }\r\n    },\r\n    *loginFaild({ payload }, { put, call }) {  // eslint-disable-line\r\n      yield put({ type: 'save', payload: { userInfo: null } });\r\n      yield put(routerRedux.replace('/login'));\r\n    },\r\n    *updateDB({ payload }, { put, call, select }) {  // eslint-disable-line\r\n      yield put({ type: 'save', payload: { percent: 0, status: 'active' } });\r\n      yield call(localForageService.checkUser, payload);\r\n      const utime = yield call(localForageService.getUpdateTime);\r\n      if (60 * 60 * 1000 < new Date().getTime() - utime) {\r\n        const list = yield call(localForageService.getRepos, payload);\r\n        for (let i = 0, l = list.length; i < l; i += 1) {\r\n          yield call(localForageService.syncRepoInfo, list[i]);\r\n          yield put({ type: 'save', payload: { percent: Math.floor((i * 100) / l) } });\r\n        }\r\n        yield call(localForageService.setUpdateTime);\r\n      }\r\n      const repos = yield call(localForageService.getRepos, payload);\r\n      yield put({ type: 'save', payload: { percent: 100, status: 'success', repos } });\r\n      return repos;\r\n    },\r\n    *subscribe({ payload }, { put, call }) {  // eslint-disable-line\r\n      const { data } = yield call(localForageService.addRepo, payload);\r\n      if (data) {\r\n        yield put({ type: 'updateRepos' });\r\n        notification.success({ message: '', description: '' });\r\n        return true;\r\n      } else {\r\n        notification.error({ message: '', description: '' });\r\n        return false;\r\n      }\r\n    },\r\n    *unsubscribe({ payload }, { put, call }) {  // eslint-disable-line\r\n      yield call(localForageService.delRepo, payload);\r\n      yield put({ type: 'updateRepos' });\r\n      notification.success({ message: '', description: '' });\r\n      return true;\r\n    },\r\n    *updateRepos({ payload }, { put, call }) {  // eslint-disable-line\r\n      const list = yield call(localForageService.getRepos, payload);\r\n      yield put({ type: 'save', payload: { repos: list } });\r\n    },\r\n  },\r\n\r\n  reducers: {\r\n    save(state, action) {\r\n      return { ...state, ...action.payload };\r\n    },\r\n  },\r\n};\r\n","// import storage from './storage';\r\nimport localForage from 'localforage';\r\nconst accessTokenKey = 'accessToken';\r\n\r\nexport default {\r\n  async get() {\r\n    try {\r\n      const token = await localForage.getItem(accessTokenKey);\r\n      return token;\r\n    } catch (errMsg) {\r\n      return null;\r\n    }\r\n  },\r\n  set(token) {\r\n    return localForage.setItem(accessTokenKey, token);\r\n  },\r\n  remove() {\r\n    return localForage.removeItem(accessTokenKey);\r\n  },\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"italic\":\"index_italic__2F29j\",\"ellipsis\":\"index_ellipsis__4wQGa\",\"ponter\":\"index_ponter__ixEJa\",\"flex\":\"index_flex__3mZIF\",\"loading\":\"index_loading__vMJL6\",\"text\":\"index_text__2g5nv\",\"percent\":\"index_percent__372j5\"};"],"sourceRoot":""}