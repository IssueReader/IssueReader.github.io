{"version":3,"sources":["routes/Favorites/index.module.less","routes/Favorites/index.js"],"names":["module","exports","italic","ellipsis","ponter","pagination","Favorites","props","_this","_classCallCheck","this","_getPrototypeOf","call","onRefresh","bind","_assertThisInitialized","onPageChange","updateIssue","dispatch","dva_router__WEBPACK_IMPORTED_MODULE_9__","push","pathname","location","search","page","parsed","query_string__WEBPACK_IMPORTED_MODULE_8___default","a","parse","stringify","_objectSpread","undefined","info","type","payload","react__WEBPACK_IMPORTED_MODULE_6___default","createElement","Fragment","ant_design_pro_lib_PageHeader__WEBPACK_IMPORTED_MODULE_10___default","title","action","antd_lib_button__WEBPACK_IMPORTED_MODULE_5___default","onClick","breadcrumbList","_components_PageBody__WEBPACK_IMPORTED_MODULE_11__","antd_lib_card__WEBPACK_IMPORTED_MODULE_1___default","bordered","_components_Issues__WEBPACK_IMPORTED_MODULE_12__","list","loading","antd_lib_pagination__WEBPACK_IMPORTED_MODULE_3___default","className","_index_module_less__WEBPACK_IMPORTED_MODULE_13___default","current","showQuickJumper","pageSize","total","showTotal","t","concat","onChange","PureComponent","__webpack_exports__","Object","dva__WEBPACK_IMPORTED_MODULE_7__","state","favorites"],"mappings":"6EACAA,EAAAC,SAAkBC,OAAA,sBAAAC,SAAA,wBAAAC,OAAA,sBAAAC,WAAA,ijCCUZC,cACJ,SAAAA,EAAYC,GAAO,IAAAC,MAAA,mGAAAC,CAAAC,KAAAJ,KACjBI,MAAAF,MAAAG,EAAAL,GAAAM,KAAAF,KAAMH,oDAEDM,UAAYL,EAAKK,UAAUC,KAAfC,IAAAP,KACjBA,EAAKQ,aAAeR,EAAKQ,aAAaF,KAAlBC,IAAAP,KACpBA,EAAKS,YAAcT,EAAKS,YAAYH,KAAjBC,IAAAP,KALFA,6DAQjBE,KAAKH,MAAMW,SAASC,EAAA,YAAYC,MAC9BC,SAAUX,KAAKH,MAAMe,SAASD,SAC9BE,OAAQb,KAAKH,MAAMe,SAASC,+CAGnBC,GACX,IAAMC,EAASC,EAAAC,EAAYC,MAAMlB,KAAKH,MAAMe,SAASC,QACrDb,KAAKH,MAAMW,SAASC,EAAA,YAAYC,MAC9BC,SAAUX,KAAKH,MAAMe,SAASD,SAC9BE,OAAQG,EAAAC,EAAYE,6UAAZC,IAA2BL,GAAQD,KAAO,IAAMA,OAAOO,EAAYP,4CAGnEQ,GACVtB,KAAKH,MAAMW,UAAWe,KAAM,wBAAyBC,QAASF,qCAG9D,OACEG,EAAAR,EAAAS,cAACD,EAAAR,EAAMU,SAAP,KACEF,EAAAR,EAAAS,cAACE,EAAAX,GACCY,MAAM,2BACNC,OAAQL,EAAAR,EAAAS,cAAAK,EAAAd,GAAQM,KAAK,UAAUS,QAAShC,KAAKG,WAArC,gBACR8B,iBAAmBJ,MAAO,SAE5BJ,EAAAR,EAAAS,cAACQ,EAAA,EAAD,KACET,EAAAR,EAAAS,cAAAS,EAAAlB,GAAMmB,UAAU,GACdX,EAAAR,EAAAS,cAACW,EAAA,GAAOC,KAAMtC,KAAKH,MAAMyC,KAAMC,QAASvC,KAAKH,MAAM0C,QAAShC,YAAaP,KAAKO,cAC9EkB,EAAAR,EAAAS,cAAAc,EAAAvB,GACEwB,UAAWC,EAAAzB,EAAOtB,WAClBgD,QAAS3C,KAAKH,MAAMiB,KACpB8B,iBAAA,EACAC,SAAU7C,KAAKH,MAAMgD,SACrBC,MAAO9C,KAAKH,MAAMiD,MAClBC,UAAW,SAAAC,GAAA,gBAAAC,OAAUD,EAAV,YACXE,SAAUlD,KAAKM,8NA1CLmB,EAAAR,EAAMkC,eAuD9BC,EAAA,QAAeC,OAAAC,EAAA,QAAAD,CAAQ,SAAAE,GAAA,OACrBhB,QAASgB,EAAMC,UAAUjB,QACzBD,KAAMiB,EAAMC,UAAUlB,KACtBQ,MAAOS,EAAMC,UAAUV,MACvBhC,KAAMyC,EAAMC,UAAU1C,KACtB+B,SAAUU,EAAMC,UAAUX,WAL5B,CAMIjD","file":"static/js/8.d1f2ade1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"italic\":\"index_italic__1lqmv\",\"ellipsis\":\"index_ellipsis__3b6Uj\",\"ponter\":\"index_ponter__1Zk8m\",\"pagination\":\"index_pagination__3RguP\"};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'dva';\r\nimport queryString from 'query-string';\r\nimport { routerRedux } from 'dva/router';\r\nimport { Button, Card, Pagination } from 'antd';\r\nimport PageHeader from 'ant-design-pro/lib/PageHeader';\r\nimport PageBody from '../../components/PageBody';\r\nimport Issues from '../../components/Issues';\r\nimport styles from './index.module.less';\r\n\r\nclass Favorites extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onRefresh = this.onRefresh.bind(this);\r\n    this.onPageChange = this.onPageChange.bind(this);\r\n    this.updateIssue = this.updateIssue.bind(this);\r\n  }\r\n  onRefresh() {\r\n    this.props.dispatch(routerRedux.push({\r\n      pathname: this.props.location.pathname,\r\n      search: this.props.location.search,\r\n    }));\r\n  }\r\n  onPageChange(page) {\r\n    const parsed = queryString.parse(this.props.location.search);\r\n    this.props.dispatch(routerRedux.push({\r\n      pathname: this.props.location.pathname,\r\n      search: queryString.stringify({ ...parsed, page: (1 === page ? undefined : page) }),\r\n    }));\r\n  }\r\n  updateIssue(info) {\r\n    this.props.dispatch({ type: 'favorites/updateIssue', payload: info });\r\n  }\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <PageHeader\r\n          title=\"我的收藏\"\r\n          action={<Button type=\"primary\" onClick={this.onRefresh}>刷新</Button>}\r\n          breadcrumbList={[{ title: null }]}\r\n        />\r\n        <PageBody>\r\n          <Card bordered={false}>\r\n            <Issues list={this.props.list} loading={this.props.loading} updateIssue={this.updateIssue} />\r\n            <Pagination\r\n              className={styles.pagination}\r\n              current={this.props.page}\r\n              showQuickJumper\r\n              pageSize={this.props.pageSize}\r\n              total={this.props.total}\r\n              showTotal={t => `共 ${t} 项`}\r\n              onChange={this.onPageChange}\r\n            />\r\n          </Card>\r\n        </PageBody>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nFavorites.propTypes = {\r\n  repos: PropTypes.array,\r\n};\r\n\r\nexport default connect(state => ({\r\n  loading: state.favorites.loading,\r\n  list: state.favorites.list,\r\n  total: state.favorites.total,\r\n  page: state.favorites.page,\r\n  pageSize: state.favorites.pageSize,\r\n}))(Favorites);\r\n"],"sourceRoot":""}